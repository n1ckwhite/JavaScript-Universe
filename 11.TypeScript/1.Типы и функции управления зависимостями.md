# üìå –¢–∏–ø—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤ TypeScript

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏** ‚Äî —ç—Ç–æ –≤–∞–∂–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è –≤ TypeScript, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ—Å—á–µ—Ç—ã. –í —ç—Ç–æ–º —Ñ–∞–π–ª–µ –º—ã —Ä–∞–∑–±–µ—Ä–µ–º —Ç–∏–ø—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

---

## üîπ –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã –¥–ª—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### üìå DependencyList
```typescript
type DependencyList = ReadonlyArray<unknown>;
```

**–û–ø–∏—Å–∞–Ω–∏–µ:**
- **`ReadonlyArray`** ‚Äî –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π –º–∞—Å—Å–∏–≤, —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
- **`unknown`** ‚Äî —Ç–∏–ø, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ª—é–±–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–±–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ `any`)
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ —Å–ø–∏—Å–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
// –í–∞–ª–∏–¥–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
const deps1: DependencyList = [1, 2, 3];
const deps2: DependencyList = ['hello', 'world', 42];
const deps3: DependencyList = [{ id: 1 }, { name: 'test' }];
const deps4: DependencyList = []; // –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤

// –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ - –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã
// deps1[0] = 10; // Error: Index signature in type 'readonly unknown[]' only permits reading
```

---

## üîπ –§—É–Ω–∫—Ü–∏—è U - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

### üìå –°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏
```typescript
function U<T>(factory: () => T, deps: DependencyList | undefined): T;
```

**–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
- **`factory: () => T`** ‚Äî —Ñ—É–Ω–∫—Ü–∏—è-—Ñ–∞–±—Ä–∏–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Ç–∏–ø–∞ `T`
- **`deps: DependencyList | undefined`** ‚Äî –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
- **`T`** ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è `factory`, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### üìå –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã
```typescript
function U<T>(factory: () => T, deps: DependencyList | undefined): T {
    // –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫—ç—à –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    const cache = new Map<string, { value: T; deps: DependencyList }>();
    
    // –°–æ–∑–¥–∞–µ–º –∫–ª—é—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    const key = deps ? JSON.stringify(deps) : 'no-deps';
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    const cached = cache.get(key);
    if (cached && arraysEqual(cached.deps, deps || [])) {
        return cached.value;
    }
    
    // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    const value = factory();
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
    cache.set(key, { value, deps: deps || [] });
    
    return value;
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–∞—Å—Å–∏–≤–æ–≤
function arraysEqual(a: unknown[], b: unknown[]): boolean {
    if (a.length !== b.length) return false;
    return a.every((val, index) => val === b[index]);
}
```

### üìå –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```typescript
// –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
const expensiveValue = U(() => {
    console.log('–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ—Ä–æ–≥–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ...');
    return Math.random() * 1000;
}, [dependency1, dependency2]);

// –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤
const user = U(() => {
    console.log('–°–æ–∑–¥–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å...');
    return {
        id: Date.now(),
        name: '–ò–≤–∞–Ω',
        email: 'ivan@example.com'
    };
}, [userId, userData]);

// –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
const constantValue = U(() => {
    console.log('–°–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞...');
    return 'Hello World';
}, undefined);
```

---

## üîπ –§—É–Ω–∫—Ü–∏—è u2 - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π

### üìå –°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–∏
```typescript
function u2<T extends Function>(callback: T, deps: DependencyList): T;
```

**–ê—Ä–≥—É–º–µ–Ω—Ç—ã:**
- **`callback: T`** ‚Äî —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- **`deps: DependencyList`** ‚Äî —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:**
- **`T`** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ `callback`

### üìå –ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã
```typescript
function u2<T extends Function>(callback: T, deps: DependencyList): T {
    // –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫—ç—à –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    const cache = new Map<string, { fn: T; deps: DependencyList }>();
    
    // –°–æ–∑–¥–∞–µ–º –∫–ª—é—á –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    const key = JSON.stringify(deps);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
    const cached = cache.get(key);
    if (cached && arraysEqual(cached.deps, deps)) {
        return cached.fn;
    }
    
    // –°–æ–∑–¥–∞–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
    const optimizedFn = ((...args: any[]) => {
        console.log('–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è...');
        return callback(...args);
    }) as T;
    
    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –∫—ç—à
    cache.set(key, { fn: optimizedFn, deps });
    
    return optimizedFn;
}
```

### üìå –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
```typescript
// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å–æ–±—ã—Ç–∏–π
const handleClick = u2((event: MouseEvent) => {
    console.log('–ö–ª–∏–∫ –æ–±—Ä–∞–±–æ—Ç–∞–Ω:', event.target);
}, [userId, userRole]);

// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
const filterUsers = u2((users: User[], searchTerm: string) => {
    return users.filter(user => 
        user.name.toLowerCase().includes(searchTerm.toLowerCase())
    );
}, [filterOptions, sortOrder]);

// –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
const validateForm = u2((formData: FormData) => {
    const errors: string[] = [];
    
    if (!formData.email.includes('@')) {
        errors.push('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email');
    }
    
    if (formData.password.length < 8) {
        errors.push('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤');
    }
    
    return errors;
}, [validationRules, requiredFields]);
```

---

## üîπ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

### üìå React-–ø–æ–¥–æ–±–Ω—ã–µ —Ö—É–∫–∏
```typescript
// useMemo –∞–Ω–∞–ª–æ–≥
function useMemo<T>(factory: () => T, deps: DependencyList): T {
    return U(factory, deps);
}

// useCallback –∞–Ω–∞–ª–æ–≥
function useCallback<T extends Function>(callback: T, deps: DependencyList): T {
    return u2(callback, deps);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const expensiveValue = useMemo(() => {
    return computeExpensiveValue(a, b);
}, [a, b]);

const handleSubmit = useCallback((data: FormData) => {
    submitForm(data);
}, [formConfig, validationRules]);
```

### üìå –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```typescript
class DataProcessor {
    private cache = new Map<string, any>();
    
    // –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏
    processData<T>(data: T[], processor: (item: T) => any, deps: DependencyList) {
        const key = JSON.stringify(deps);
        
        if (this.cache.has(key)) {
            return this.cache.get(key);
        }
        
        const result = data.map(processor);
        this.cache.set(key, result);
        
        return result;
    }
    
    // –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
    createProcessor<T>(processor: (item: T) => any, deps: DependencyList) {
        return u2(processor, deps);
    }
}
```

### üìå –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
```typescript
interface StateManager<T> {
    getState(): T;
    setState(newState: T): void;
    subscribe(callback: (state: T) => void, deps: DependencyList): () => void;
}

class OptimizedStateManager<T> implements StateManager<T> {
    private state: T;
    private subscribers = new Map<string, (state: T) => void>();
    
    constructor(initialState: T) {
        this.state = initialState;
    }
    
    getState(): T {
        return this.state;
    }
    
    setState(newState: T): void {
        this.state = newState;
        this.notifySubscribers();
    }
    
    subscribe(callback: (state: T) => void, deps: DependencyList): () => void {
        const key = JSON.stringify(deps);
        const optimizedCallback = u2(callback, deps);
        
        this.subscribers.set(key, optimizedCallback);
        
        return () => {
            this.subscribers.delete(key);
        };
    }
    
    private notifySubscribers(): void {
        this.subscribers.forEach(callback => callback(this.state));
    }
}
```

---

## üîπ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìå –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```typescript
// –°—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
type TypedDependencyList<T extends readonly unknown[]> = ReadonlyArray<T[number]>;

// –§—É–Ω–∫—Ü–∏—è —Å —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
function typedU<T, D extends readonly unknown[]>(
    factory: () => T, 
    deps: TypedDependencyList<D>
): T {
    return U(factory, deps);
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const result = typedU(() => {
    return 'Hello World';
}, [1, 2, 3] as const); // deps –∏–º–µ–µ—Ç —Ç–∏–ø readonly [1, 2, 3]
```

### üìå –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Å –≥–ª—É–±–æ–∫–∏–º —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º
```typescript
function deepEqual(a: unknown, b: unknown): boolean {
    if (a === b) return true;
    if (a == null || b == null) return false;
    if (typeof a !== typeof b) return false;
    
    if (typeof a === 'object') {
        const aObj = a as Record<string, unknown>;
        const bObj = b as Record<string, unknown>;
        
        const aKeys = Object.keys(aObj);
        const bKeys = Object.keys(bObj);
        
        if (aKeys.length !== bKeys.length) return false;
        
        return aKeys.every(key => deepEqual(aObj[key], bObj[key]));
    }
    
    return false;
}

function deepU<T>(factory: () => T, deps: DependencyList | undefined): T {
    const cache = new Map<string, { value: T; deps: DependencyList }>();
    
    const key = deps ? JSON.stringify(deps) : 'no-deps';
    const cached = cache.get(key);
    
    if (cached && deepEqual(cached.deps, deps || [])) {
        return cached.value;
    }
    
    const value = factory();
    cache.set(key, { value, deps: deps || [] });
    
    return value;
}
```

---

## üîπ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

### üìå –ü—Ä–∏–Ω—Ü–∏–ø—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `U` –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π** ‚Äî –∫—ç—à–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –º–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `u2` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∫–∞–∫ –ø—Ä–æ–ø—Å—ã
- **–ü—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** ‚Äî –≤–∫–ª—é—á–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- **–ò–∑–±–µ–≥–∞–π—Ç–µ –º—É—Ç–∞—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `ReadonlyArray` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### üìå –û—Ç–ª–∞–¥–∫–∞ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
function debugU<T>(factory: () => T, deps: DependencyList | undefined, name: string): T {
    console.log(`[DEBUG] ${name}: –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:`, deps);
    const start = performance.now();
    
    const result = U(factory, deps);
    
    const end = performance.now();
    console.log(`[DEBUG] ${name}: –í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞ ${end - start}ms`);
    
    return result;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const value = debugU(() => {
    return expensiveCalculation();
}, [a, b], 'expensiveCalculation');
```

## üèÜ –ó–ê–î–ê–ß–ò

–í–æ—Ç –Ω–∞–±–æ—Ä –∑–∞–¥–∞—á, —á—Ç–æ–±—ã –ª—É—á—à–µ –ø–æ–Ω—è—Ç—å `—Ç–∏–ø—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤ TypeScript`:

---

### üìå –ó–∞–¥–∞—á–∞ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

‚ùì –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `CacheManager` –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π:
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ TTL (–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏) –¥–ª—è –∑–∞–ø–∏—Å–µ–π
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫—ç—à–∞

```typescript
// –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å CacheManager:
// set(key, value, deps, ttl?) - —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
// get(key, deps) - –ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å
// invalidate(key) - —É–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –∏–∑ –∫—ç—à–∞
// getStats() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫—ç—à–∞

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
// const cache = new CacheManager();
// cache.set('user', userData, [userId, userRole], 30000);
// const cachedUser = cache.get('user', [userId, userRole]);
```

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```typescript
interface CacheEntry<T> {
    value: T;
    deps: DependencyList;
    timestamp: number;
    ttl?: number;
}

class CacheManager {
    private cache = new Map<string, CacheEntry<any>>();
    private stats = {
        hits: 0,
        misses: 0,
        sets: 0,
        invalidations: 0
    };

    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫—ç—à
    set<T>(key: string, value: T, deps: DependencyList, ttl?: number): void {
        const entry: CacheEntry<T> = {
            value,
            deps: [...deps], // —Å–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é –º–∞—Å—Å–∏–≤–∞
            timestamp: Date.now(),
            ttl
        };

        this.cache.set(key, entry);
        this.stats.sets++;
        
        console.log(`üíæ –ö—ç—à: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –∫–ª—é—á–∞ "${key}"`);
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –∫—ç—à–∞
    get<T>(key: string, deps: DependencyList): T | null {
        const entry = this.cache.get(key);
        
        if (!entry) {
            this.stats.misses++;
            console.log(`‚ùå –ö—ç—à: –ø—Ä–æ–º–∞—Ö –¥–ª—è –∫–ª—é—á–∞ "${key}"`);
            return null;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º TTL
        if (entry.ttl && Date.now() - entry.timestamp > entry.ttl) {
            this.cache.delete(key);
            this.stats.misses++;
            console.log(`‚è∞ –ö—ç—à: –∏—Å—Ç–µ–∫ TTL –¥–ª—è –∫–ª—é—á–∞ "${key}"`);
            return null;
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
        if (!this.depsEqual(entry.deps, deps)) {
            this.stats.misses++;
            console.log(`üîÑ –ö—ç—à: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –¥–ª—è –∫–ª—é—á–∞ "${key}"`);
            return null;
        }

        this.stats.hits++;
        console.log(`‚úÖ –ö—ç—à: –ø–æ–ø–∞–¥–∞–Ω–∏–µ –¥–ª—è –∫–ª—é—á–∞ "${key}"`);
        return entry.value;
    }

    // –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –∫—ç—à–∞
    invalidate(key: string): boolean {
        const deleted = this.cache.delete(key);
        if (deleted) {
            this.stats.invalidations++;
            console.log(`üóëÔ∏è –ö—ç—à: –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω –∫–ª—é—á "${key}"`);
        }
        return deleted;
    }

    // –û—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∑–∞–ø–∏—Å–µ–π
    cleanup(): number {
        const now = Date.now();
        let cleaned = 0;

        for (const [key, entry] of this.cache.entries()) {
            if (entry.ttl && now - entry.timestamp > entry.ttl) {
                this.cache.delete(key);
                cleaned++;
            }
        }

        if (cleaned > 0) {
            console.log(`üßπ –ö—ç—à: –æ—á–∏—â–µ–Ω–æ ${cleaned} —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∑–∞–ø–∏—Å–µ–π`);
        }

        return cleaned;
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    getStats() {
        const total = this.stats.hits + this.stats.misses;
        const hitRate = total > 0 ? (this.stats.hits / total * 100).toFixed(2) : 0;

        return {
            ...this.stats,
            total,
            hitRate: `${hitRate}%`,
            size: this.cache.size
        };
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    private depsEqual(deps1: DependencyList, deps2: DependencyList): boolean {
        if (deps1.length !== deps2.length) return false;
        
        return deps1.every((dep, index) => {
            const otherDep = deps2[index];
            
            // –ü—Ä–æ—Å—Ç–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
            if (dep === otherDep) return true;
            
            // –ì–ª—É–±–æ–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤
            if (typeof dep === 'object' && typeof otherDep === 'object') {
                return this.deepEqual(dep, otherDep);
            }
            
            return false;
        });
    }

    // –ì–ª—É–±–æ–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤
    private deepEqual(obj1: unknown, obj2: unknown): boolean {
        if (obj1 === obj2) return true;
        if (obj1 == null || obj2 == null) return false;
        if (typeof obj1 !== typeof obj2) return false;
        
        if (typeof obj1 === 'object') {
            const obj1Record = obj1 as Record<string, unknown>;
            const obj2Record = obj2 as Record<string, unknown>;
            
            const keys1 = Object.keys(obj1Record);
            const keys2 = Object.keys(obj2Record);
            
            if (keys1.length !== keys2.length) return false;
            
            return keys1.every(key => 
                this.deepEqual(obj1Record[key], obj2Record[key])
            );
        }
        
        return false;
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–ª—é—á–µ–π
    getKeys(): string[] {
        return Array.from(this.cache.keys());
    }

    // –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–≥–æ –∫—ç—à–∞
    clear(): void {
        this.cache.clear();
        this.stats = { hits: 0, misses: 0, sets: 0, invalidations: 0 };
        console.log('üóëÔ∏è –ö—ç—à: –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–µ–Ω');
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–ø–∏—Å–∏
    getEntryInfo(key: string) {
        const entry = this.cache.get(key);
        if (!entry) return null;

        return {
            key,
            hasValue: true,
            deps: entry.deps,
            age: Date.now() - entry.timestamp,
            ttl: entry.ttl,
            isExpired: entry.ttl ? Date.now() - entry.timestamp > entry.ttl : false
        };
    }
}

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const cache = new CacheManager();

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
const userData = { id: 1, name: '–ò–≤–∞–Ω', role: 'admin' };
cache.set('user', userData, [1, 'admin'], 30000); // TTL 30 —Å–µ–∫—É–Ω–¥

// –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
const cachedUser = cache.get('user', [1, 'admin']);
console.log('–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', cachedUser);

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
const updatedUser = cache.get('user', [1, 'user']); // –¥—Ä—É–≥–∞—è —Ä–æ–ª—å
console.log('–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', updatedUser); // null

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫—ç—à–∞:', cache.getStats());

module.exports = CacheManager;
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π

‚ùì –°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ—É–Ω–∫—Ü–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

```typescript
// –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å MemoizationManager:
// memoize(fn, deps, category?) - –º–µ–º–æ–∏–∑–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é
// invalidateCategory(category) - –∏–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
// getMemoizedResult(fn, deps) - –ø–æ–ª—É—á–∞–µ—Ç –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
// getStats() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –º–µ–º–æ–∏–∑–∞—Ü–∏–∏

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
// const memo = new MemoizationManager();
// const expensiveFn = memo.memoize(computeExpensive, [a, b], 'computations');
// const result = expensiveFn();
```

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```typescript
interface MemoizedFunction<T extends Function> {
    fn: T;
    deps: DependencyList;
    category: string;
    lastResult: any;
    callCount: number;
    lastCallTime: number;
}

class MemoizationManager {
    private memoizedFunctions = new Map<string, MemoizedFunction<any>>();
    private categories = new Map<string, Set<string>>();
    private stats = {
        totalCalls: 0,
        cacheHits: 0,
        cacheMisses: 0,
        functionsCreated: 0,
        categoriesCreated: 0
    };

    // –ú–µ–º–æ–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
    memoize<T extends Function>(
        fn: T, 
        deps: DependencyList, 
        category: string = 'default'
    ): T {
        const key = this.generateFunctionKey(fn, deps);
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –ª–∏ —É–∂–µ —Ñ—É–Ω–∫—Ü–∏—è
        if (this.memoizedFunctions.has(key)) {
            console.log(`‚ö†Ô∏è –§—É–Ω–∫—Ü–∏—è —É–∂–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–∞: ${key}`);
            return this.memoizedFunctions.get(key)!.fn;
        }

        // –°–æ–∑–¥–∞–µ–º –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é
        const memoizedFn = ((...args: any[]) => {
            this.stats.totalCalls++;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
            const currentDeps = this.evaluateDependencies(deps);
            const memoized = this.memoizedFunctions.get(key)!;
            
            if (this.depsEqual(memoized.deps, currentDeps)) {
                this.stats.cacheHits++;
                memoized.callCount++;
                memoized.lastCallTime = Date.now();
                console.log(`‚úÖ –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: –ø–æ–ø–∞–¥–∞–Ω–∏–µ –¥–ª—è ${key}`);
                return memoized.lastResult;
            }

            // –í—ã—á–∏—Å–ª—è–µ–º –Ω–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            this.stats.cacheMisses++;
            const result = fn(...args);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
            memoized.lastResult = result;
            memoized.deps = [...currentDeps];
            memoized.callCount++;
            memoized.lastCallTime = Date.now();
            
            console.log(`üîÑ –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: –ø–µ—Ä–µ—Å—á–µ—Ç –¥–ª—è ${key}`);
            return result;
        }) as T;

        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
        const memoizedFunction: MemoizedFunction<T> = {
            fn: memoizedFn,
            deps: [...deps],
            category,
            lastResult: undefined,
            callCount: 0,
            lastCallTime: 0
        };

        this.memoizedFunctions.set(key, memoizedFunction);
        this.addToCategory(key, category);
        this.stats.functionsCreated++;

        console.log(`üìù –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: —Å–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è ${key} –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ${category}`);
        return memoizedFn;
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    getMemoizedResult<T>(fn: T, deps: DependencyList): any | null {
        const key = this.generateFunctionKey(fn, deps);
        const memoized = this.memoizedFunctions.get(key);
        
        if (!memoized) {
            console.log(`‚ùå –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ${key}`);
            return null;
        }

        const currentDeps = this.evaluateDependencies(deps);
        
        if (this.depsEqual(memoized.deps, currentDeps)) {
            console.log(`‚úÖ –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞–π–¥–µ–Ω –¥–ª—è ${key}`);
            return memoized.lastResult;
        }

        console.log(`üîÑ –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –¥–ª—è ${key}`);
        return null;
    }

    // –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    invalidateCategory(category: string): number {
        const categoryFunctions = this.categories.get(category);
        if (!categoryFunctions) {
            console.log(`‚ö†Ô∏è –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: –∫–∞—Ç–µ–≥–æ—Ä–∏—è ${category} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞`);
            return 0;
        }

        let invalidated = 0;
        for (const key of categoryFunctions) {
            if (this.memoizedFunctions.delete(key)) {
                invalidated++;
            }
        }

        this.categories.delete(category);
        console.log(`üóëÔ∏è –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è ${category} (${invalidated} —Ñ—É–Ω–∫—Ü–∏–π)`);
        return invalidated;
    }

    // –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
    invalidateFunction<T>(fn: T, deps: DependencyList): boolean {
        const key = this.generateFunctionKey(fn, deps);
        const deleted = this.memoizedFunctions.delete(key);
        
        if (deleted) {
            // –£–¥–∞–ª—è–µ–º –∏–∑ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
            for (const [category, functions] of this.categories) {
                functions.delete(key);
                if (functions.size === 0) {
                    this.categories.delete(category);
                }
            }
            console.log(`üóëÔ∏è –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è ${key}`);
        }

        return deleted;
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
    getStats() {
        const totalFunctions = this.memoizedFunctions.size;
        const totalCategories = this.categories.size;
        const hitRate = this.stats.totalCalls > 0 
            ? (this.stats.cacheHits / this.stats.totalCalls * 100).toFixed(2) 
            : 0;

        return {
            ...this.stats,
            totalFunctions,
            totalCategories,
            hitRate: `${hitRate}%`,
            functionsByCategory: this.getFunctionsByCategory()
        };
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    getFunctionsByCategory() {
        const result: Record<string, number> = {};
        for (const [category, functions] of this.categories) {
            result[category] = functions.size;
        }
        return result;
    }

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ—É–Ω–∫—Ü–∏–∏
    getFunctionInfo<T>(fn: T, deps: DependencyList) {
        const key = this.generateFunctionKey(fn, deps);
        const memoized = this.memoizedFunctions.get(key);
        
        if (!memoized) return null;

        return {
            key,
            category: memoized.category,
            callCount: memoized.callCount,
            lastCallTime: memoized.lastCallTime,
            hasResult: memoized.lastResult !== undefined,
            deps: memoized.deps
        };
    }

    // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã
    private generateFunctionKey<T>(fn: T, deps: DependencyList): string {
        const fnString = fn.toString();
        const depsString = JSON.stringify(deps);
        return `fn_${this.hashCode(fnString + depsString)}`;
    }

    private hashCode(str: string): string {
        let hash = 0;
        for (let i = 0; i < str.length; i++) {
            const char = str.charCodeAt(i);
            hash = ((hash << 5) - hash) + char;
            hash = hash & hash; // Convert to 32bit integer
        }
        return Math.abs(hash).toString(36);
    }

    private evaluateDependencies(deps: DependencyList): DependencyList {
        // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–æ–≥–∏–∫–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        return deps.map(dep => {
            if (typeof dep === 'function') {
                return dep();
            }
            return dep;
        });
    }

    private depsEqual(deps1: DependencyList, deps2: DependencyList): boolean {
        if (deps1.length !== deps2.length) return false;
        return deps1.every((dep, index) => dep === deps2[index]);
    }

    private addToCategory(key: string, category: string): void {
        if (!this.categories.has(category)) {
            this.categories.set(category, new Set());
            this.stats.categoriesCreated++;
        }
        this.categories.get(category)!.add(key);
    }

    // –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    clear(): void {
        this.memoizedFunctions.clear();
        this.categories.clear();
        this.stats = { 
            totalCalls: 0, 
            cacheHits: 0, 
            cacheMisses: 0, 
            functionsCreated: 0, 
            categoriesCreated: 0 
        };
        console.log('üóëÔ∏è –ú–µ–º–æ–∏–∑–∞—Ü–∏—è: –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ—á–∏—â–µ–Ω—ã');
    }
}

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
const memo = new MemoizationManager();

// –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
const computeExpensive = (a: number, b: number) => {
    console.log('–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–æ—Ä–æ–≥–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ...');
    return a * b + Math.random();
};

const memoizedCompute = memo.memoize(computeExpensive, [1, 2], 'computations');

// –í—ã–∑–æ–≤—ã —Ñ—É–Ω–∫—Ü–∏–∏
console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç 1:', memoizedCompute());
console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç 2:', memoizedCompute()); // –∏–∑ –∫—ç—à–∞
console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç 3:', memoizedCompute()); // –∏–∑ –∫—ç—à–∞

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
console.log('–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏:', memo.getStats());

// –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
memo.invalidateCategory('computations');
console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏:', memoizedCompute()); // –ø–µ—Ä–µ—Å—á–µ—Ç

module.exports = MemoizationManager;
```

</details>

---

üéâ –≠—Ç–∏ –∑–∞–¥–∞—á–∏ –ø–æ–º–æ–≥—É—Ç –ø–æ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –≤ TypeScript –∏ –Ω–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏.

---

## üéØ –ò—Ç–æ–≥

**–¢–∏–ø—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏** –≤ TypeScript –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `U` –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –∏ `u2` –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞–≤–∞—Ç—å –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∏ –æ—Ç–∑—ã–≤—á–∏–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –ö—ç—à–∏—Ä—É–π—Ç–µ –¥–æ—Ä–æ–≥–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –ü—Ä–∏–º–µ–Ω—è–π—Ç–µ –≥–ª—É–±–æ–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---
