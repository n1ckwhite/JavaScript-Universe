# üìå –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Service Workers –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ–±-—Ä–µ—Å—É—Ä—Å–æ–≤ –≤ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ

Service Worker ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç, —Ä–∞–±–æ—Ç–∞—é—â–∏–π –≤ —Ñ–æ–Ω–æ–≤–æ–º –ø–æ—Ç–æ–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:

* –∫—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã (HTML, CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è),
* –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ñ–ª–∞–π–Ω,
* —É–ª—É—á—à–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞ —Å—á—ë—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º.

---

### üîπ –®–∞–≥ 1: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker

–î–æ–±–∞–≤—å—Ç–µ –≤ –æ—Å–Ω–æ–≤–Ω–æ–π JS-—Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `app.js`):

```javascript
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
            .then(reg => console.log('‚úÖ SW –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', reg.scope))
            .catch(err => console.error('‚ùå –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:', err));
    });
}
```

---

### üîπ –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ `service-worker.js`

–†–∞–∑–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª `service-worker.js` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

---

### üîπ –®–∞–≥ 3: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ

```javascript
const CACHE_NAME = 'my-cache-v1';
const urlsToCache = [
    '/',
    '/index.html',
    '/styles.css',
    '/app.js',
    '/image.png'
];

self.addEventListener('install', (event) => {
    event.waitUntil(
        caches.open(CACHE_NAME).then((cache) => {
            console.log('üì¶ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤...');
            return cache.addAll(urlsToCache);
        })
    );
});
```

---

### üîπ –®–∞–≥ 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (fetch)

```javascript
self.addEventListener('fetch', (event) => {
    event.respondWith(
        caches.match(event.request).then((response) => {
            return response || fetch(event.request).then((networkResponse) => {
                return caches.open(CACHE_NAME).then((cache) => {
                    cache.put(event.request, networkResponse.clone());
                    return networkResponse;
                });
            });
        })
    );
});
```

---

### üîπ –®–∞–≥ 5: –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –∫—ç—à–∞ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

```javascript
self.addEventListener('activate', (event) => {
    const cacheWhitelist = [CACHE_NAME];
    event.waitUntil(
        caches.keys().then((cacheNames) => {
            return Promise.all(
                cacheNames.map((name) => {
                    if (!cacheWhitelist.includes(name)) {
                        return caches.delete(name);
                    }
                })
            );
        })
    );
});
```

---

### üîπ –®–∞–≥ 6: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π DevTools ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Application** ‚Üí —Ä–∞–∑–¥–µ–ª **Service Workers**.
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ Service Worker –∞–∫—Ç–∏–≤–µ–Ω.
3. –û—Ç–∫–ª—é—á–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è –∏–∑ –∫—ç—à–∞.

---

### üéØ –ò—Ç–æ–≥

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Service Workers –¥–∞—ë—Ç:

* –∞–≤—Ç–æ–Ω–æ–º–Ω—É—é —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è,
* —É—Å–∫–æ—Ä–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü,
* —Å–Ω–∏–∂–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä.

## üèÜ –ó–ê–î–ê–ß–ò

–í–æ—Ç –¥–≤–µ –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏, —á—Ç–æ–±—ã –∑–∞–∫—Ä–µ–ø–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ `Service Workers –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—é`:

---

### üìå –ó–∞–¥–∞—á–∞ 1: –ß—Ç–æ –±—É–¥–µ—Ç –≤ –∫—ç—à–µ?

‚ùì –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Service Worker, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º–µ, –µ—Å–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É?

–î–æ–ø—É—Å—Ç–∏–º, —É –≤–∞—Å –µ—Å—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ –≤ `service-worker.js`:

```javascript
const CACHE_NAME = 'example-cache-v1';
const urlsToCache = [
    '/',
    '/index.html',
    '/style.css',
    '/script.js'
];

self.addEventListener('install', (event) => {
    event.waitUntil(
        caches.open(CACHE_NAME).then((cache) => {
            return cache.addAll(urlsToCache);
        })
    );
});
```

<details>
<summary>‚úÖ –í—ã–≤–æ–¥</summary>

–í—Å–µ —Ä–µ—Å—É—Ä—Å—ã –∏–∑ –º–∞—Å—Å–∏–≤–∞ `urlsToCache`, –∞ –∏–º–µ–Ω–Ω–æ:

* `/` - –æ–±—â–∞—è –∫–∞—Ä—Ç–∏–Ω–∞
* `/index.html`
* `/style.css`
* `/script.js`

–≠—Ç–∏ —Ñ–∞–π–ª—ã –±—ã–ª–∏ —è–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –∫—ç—à –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 2: –ö–∞–∫ –≤–µ—Ä–Ω—É—Ç—å –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π —Ñ–∞–π–ª?

‚ùì –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –≤ Service Worker, —á—Ç–æ–±—ã –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±—Ä–∞—É–∑–µ—Ä –ø–æ–ª—É—á–∏–ª –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é `script.js`?

–ü—Ä–µ–¥–ø–æ–ª–æ–∂–∏–º, –≤—ã –æ–±–Ω–æ–≤–∏–ª–∏ —Ñ–∞–π–ª `script.js`, –Ω–æ –±—Ä–∞—É–∑–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é.

<details>
<summary>‚úÖ –í—ã–≤–æ–¥</summary>

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∫—ç—à–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

```javascript
const CACHE_NAME = 'example-cache-v2';
 ```
2. –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ `activate` —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫—ç—à–∏:

```javascript
self.addEventListener('activate', event => {
    const whitelist = [CACHE_NAME];
    event.waitUntil(
        caches.keys().then(keys => 
            Promise.all(keys.map(key => {
                if (!whitelist.includes(key)) {
                    return caches.delete(key);
                }
            }))
        )
    );
});
```

–≠—Ç–æ –∑–∞—Å—Ç–∞–≤–∏—Ç –±—Ä–∞—É–∑–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–µ–∂–∏–π –∫—ç—à.

</details>

---

üéâ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, Service Workers –ø–æ–∑–≤–æ–ª—è—é—Ç –≥–∏–±–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫–∞–∫ –æ—Ñ–ª–∞–π–Ω-–¥–æ—Å—Ç—É–ø, —Ç–∞–∫ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–º–∏, –Ω–∞–¥—ë–∂–Ω—ã–º–∏ –∏ —É–¥–æ–±–Ω—ã–º–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---