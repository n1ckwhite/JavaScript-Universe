# üìå HTTP 401, 403, 404: —Ä–∞–∑–ª–∏—á–∏—è, –ø—Ä–∏—á–∏–Ω—ã –∏ –ø—Ä–∞–∫—Ç–∏–∫–∞

–ö–æ–¥—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è HTTP **401**, **403** –∏ **404** –æ—Ç–Ω–æ—Å—è—Ç—Å—è –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Å–∏—Ç—É–∞—Ü–∏—è–º, —Å–≤—è–∑–∞–Ω–Ω—ã–º —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ —Ä–µ—Å—É—Ä—Å–∞–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ö–∞–∂–¥—ã–π –∫–æ–¥ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∏ –ø–æ–º–æ–≥–∞–µ—Ç –∫–ª–∏–µ–Ω—Ç—É –ø–æ–Ω—è—Ç—å, –∫–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å –¥–∞–ª—å—à–µ.

## üîπ –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –∫–æ–¥–∞–º–∏

### 401 Unauthorized ‚Äî –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—Ä–æ—Å —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, –Ω–æ –∫–ª–∏–µ–Ω—Ç –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ.
- **–ü—Ä–∏—á–∏–Ω–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–æ—à—ë–ª –≤ —Å–∏—Å—Ç–µ–º—É –∏–ª–∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.
- **–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É –∏–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

### 403 Forbidden ‚Äî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–µ—Ä–≤–µ—Ä –ø–æ–Ω—è–ª –∑–∞–ø—Ä–æ—Å, –Ω–æ –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ–≥–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∏–∑-–∑–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã—Ö –ø—Ä–∞–≤.
- **–ü—Ä–∏—á–∏–Ω–∞**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –Ω–æ —É –Ω–µ–≥–æ –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å—É.
- **–†–µ—à–µ–Ω–∏–µ**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–ª—É—á–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–∞–≤–∞ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.

### 404 Not Found ‚Äî –ù–µ –Ω–∞–π–¥–µ–Ω–æ
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —Ä–µ—Å—É—Ä—Å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.
- **–ü—Ä–∏—á–∏–Ω–∞**: URL –Ω–µ–≤–µ—Ä–Ω—ã–π, —Ä–µ—Å—É—Ä—Å —É–¥–∞–ª—ë–Ω –∏–ª–∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª.
- **–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –∏–ª–∏ –Ω–∞–π—Ç–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ä–µ—Å—É—Ä—Å.

---

## üìå –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ –∫–æ–¥–∞

### 401 Unauthorized ‚Äî –ù–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

#### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç
–≠—Ç–æ—Ç –∫–æ–¥ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –Ω–µ –±—ã–ª –ø—Ä–∏–º–µ–Ω–µ–Ω, –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–ª –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏. –¢–æ –µ—Å—Ç—å, –¥–æ—Å—Ç—É–ø –∫ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–º—É —Ä–µ—Å—É—Ä—Å—É —Ç—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

#### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø–∞–Ω–µ–ª–∏
- –õ–∏—á–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –õ—é–±—ã–µ —Ä–µ—Å—É—Ä—Å—ã, —Ç—Ä–µ–±—É—é—â–∏–µ –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É

#### –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
```javascript
// –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞—â–∏—â—ë–Ω–Ω–æ–º—É API –±–µ–∑ —Ç–æ–∫–µ–Ω–∞
fetch('/api/protected-data')
  .then(response => {
    if (response.status === 401) {
      console.error('–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è');
      // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
      window.location.href = '/login';
    }
  });
```

### 403 Forbidden ‚Äî –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω

#### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç
–≠—Ç–æ—Ç –∫–æ–¥ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø–æ–Ω—è–ª –∑–∞–ø—Ä–æ—Å, –Ω–æ –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ–≥–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å. –ü—Ä–∏—á–∏–Ω–æ–π –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ —É –∫–ª–∏–µ–Ω—Ç–∞ –∫ —ç—Ç–æ–º—É —Ä–µ—Å—É—Ä—Å—É, –¥–∞–∂–µ –µ—Å–ª–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ–π.

#### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ü–æ–ø—ã—Ç–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ –æ–±—ã—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –î–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º, –∫ –∫–æ—Ç–æ—Ä—ã–º –Ω–µ—Ç –ø—Ä–∞–≤
- –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å —á—É–∂–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
- –î–æ—Å—Ç—É–ø –∫ —Ä–µ—Å—É—Ä—Å–∞–º, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –ø–æ IP

#### –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
```javascript
// –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å —á—É–∂–æ–π –ø–æ—Å—Ç
fetch('/api/posts/123', {
  method: 'DELETE',
  headers: { 'Authorization': 'Bearer user-token' }
})
  .then(response => {
    if (response.status === 403) {
      console.error('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è');
      showErrorMessage('–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è');
    }
  });
```

### 404 Not Found ‚Äî –ù–µ –Ω–∞–π–¥–µ–Ω–æ

#### –ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç
–≠—Ç–æ—Ç –∫–æ–¥ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –Ω–µ –Ω–∞—à–µ–ª –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–º—É URI. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —Ä–µ—Å—É—Ä—Å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

#### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- –ù–µ–≤–µ—Ä–Ω—ã–π URL
- –£–¥–∞–ª—ë–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å
- –û–ø–µ—á–∞—Ç–∫–∞ –≤ –∞–¥—Ä–µ—Å–µ
- –ù–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π API-—ç–Ω–¥–ø–æ–∏–Ω—Ç

#### –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
```javascript
// –ó–∞–ø—Ä–æ—Å –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
fetch('/api/users/999999')
  .then(response => {
    if (response.status === 404) {
      console.error('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω');
      showErrorMessage('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç');
    }
  });
```

---

## üìå –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –∫–æ–¥–æ–≤

| –ö–æ–¥ | –ù–∞–∑–≤–∞–Ω–∏–µ | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | –ü—Ä–∞–≤–∞ | –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ | –¢–∏–ø–∏—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ |
|-----|----------|-------------|-------|----------------------|------------------|
| 401 | Unauthorized | ‚ùå | - | ‚úÖ | –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É |
| 403 | Forbidden | ‚úÖ | ‚ùå | ‚úÖ | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∞ |
| 404 | Not Found | - | - | ‚ùå | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL |

---

## üîπ –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤ JavaScript

### ‚úç –ü—Ä–∏–º–µ—Ä 1: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```javascript
async function fetchWithErrorHandling(url, options = {}) {
  try {
    const response = await fetch(url, options);
    
    if (response.status === 401) {
      console.error('–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è');
      redirectToLogin();
      return null;
    }
    
    if (response.status === 403) {
      console.error('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω');
      showForbiddenMessage();
      return null;
    }
    
    if (response.status === 404) {
      console.error('–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω');
      showNotFoundMessage();
      return null;
    }
    
    if (!response.ok) {
      throw new Error(`HTTP ${response.status}: ${response.statusText}`);
    }
    
    return await response.json();
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:', error);
    return null;
  }
}
```

### ‚úç –ü—Ä–∏–º–µ—Ä 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å retry-–ª–æ–≥–∏–∫–æ–π
```javascript
async function fetchWithRetry(url, maxRetries = 3) {
  for (let i = 0; i < maxRetries; i++) {
    try {
      const response = await fetch(url);
      
      if (response.status === 401) {
        // –î–ª—è 401 –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∑–∞–ø—Ä–æ—Å
        console.error('–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è');
        return null;
      }
      
      if (response.status === 403) {
        // –î–ª—è 403 –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∑–∞–ø—Ä–æ—Å
        console.error('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω');
        return null;
      }
      
      if (response.status === 404) {
        // –î–ª—è 404 –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∑–∞–ø—Ä–æ—Å
        console.error('–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω');
        return null;
      }
      
      if (!response.ok) {
        throw new Error(`HTTP ${response.status}`);
      }
      
      return await response.json();
    } catch (error) {
      if (i === maxRetries - 1) {
        throw error;
      }
      // –ñ–¥—ë–º –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–æ–π
      await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
    }
  }
}
```

### ‚úç –ü—Ä–∏–º–µ—Ä 3: –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
```javascript
// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ 401 –æ—à–∏–±–æ–∫
function handleUnauthorized() {
  console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
  
  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—É—â–∏–π URL –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞
  sessionStorage.setItem('returnUrl', window.location.href);
  
  // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞
  window.location.href = '/login';
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ 403 –æ—à–∏–±–æ–∫
function handleForbidden() {
  console.log('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω');
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  showMessage('–£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —Ä–µ—Å—É—Ä—Å—É', 'error');
  
  // –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
  showAlternativeActions();
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ 404 –æ—à–∏–±–æ–∫
function handleNotFound() {
  console.log('–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω');
  
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É 404
  show404Page();
  
  // –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –ø–æ–∏—Å–∫ –∏–ª–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—é
  showSearchSuggestions();
}
```

---

## üîπ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ó–∞—â–∏—â—ë–Ω–Ω—ã–π API
```javascript
// API —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
app.get('/api/protected', (req, res) => {
  const token = req.headers.authorization;
  
  if (!token) {
    return res.status(401)
       .set('WWW-Authenticate', 'Bearer')
       .json({ error: '–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è' });
  }
  
  if (!isValidToken(token)) {
    return res.status(401)
       .json({ error: '–ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω' });
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
  if (!hasPermission(token, 'read:protected')) {
    return res.status(403)
       .json({ error: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤' });
  }
  
  res.json({ data: '–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ' });
});
```

### –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
```javascript
// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤
app.get('/files/:filename', (req, res) => {
  const filename = req.params.filename;
  const user = req.user;
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
  if (!fileExists(filename)) {
    return res.status(404)
       .json({ error: '–§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω' });
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
  if (!user) {
    return res.status(401)
       .json({ error: '–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è' });
  }
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
  if (!canAccessFile(user, filename)) {
    return res.status(403)
       .json({ error: '–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω' });
  }
  
  res.sendFile(filename);
});
```

---

## üîπ –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

### –ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–π—Ç–µ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.
- –ü—Ä–µ–¥–ª–∞–≥–∞–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è.
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.
- –ù–µ –ø–æ–≤—Ç–æ—Ä—è–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ 401, 403, 404.

### –ù–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞
- –í–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å-–∫–æ–¥—ã.
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –æ—Ç–≤–µ—Ç–µ.
- –õ–æ–≥–∏—Ä—É–π—Ç–µ –æ—à–∏–±–∫–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫.

### ‚úç –ü—Ä–∏–º–µ—Ä –∫–∞—Å—Ç–æ–º–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã 404
```html
<!DOCTYPE html>
<html>
<head>
    <title>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</title>
</head>
<body>
    <h1>404 - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</h1>
    <p>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.</p>
    <a href="/">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
    <a href="/search">–ü–æ–∏—Å–∫</a>
</body>
</html>
```

---

## üéØ –ò—Ç–æ–≥

- **401 Unauthorized** ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–æ—à—ë–ª).
- **403 Forbidden** ‚Äî –¥–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω (–Ω–µ—Ç –ø—Ä–∞–≤, –Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω).
- **404 Not Found** ‚Äî —Ä–µ—Å—É—Ä—Å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —ç—Ç–∏—Ö –æ—à–∏–±–æ–∫ —É–ª—É—á—à–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç.
- –ö–∞–∂–¥—ã–π –∫–æ–¥ —Ç—Ä–µ–±—É–µ—Ç —Å–≤–æ–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ —Ä–µ—à–µ–Ω–∏—é –ø—Ä–æ–±–ª–µ–º—ã.

## üèÜ –ó–ê–î–ê–ß–ò

–ó–∞–¥–∞—á–∏ –ø–æ —Ç–µ–º–µ `HTTP 401, 403, 404 —Ä–∞–∑–ª–∏—á–∏—è`:

---

### üìå –ó–∞–¥–∞—á–∞ 1: –û–ø—Ä–µ–¥–µ–ª–∏ –æ—à–∏–±–∫—É
–ö–∞–∫–æ–π –∫–æ–¥ –≤–µ—Ä–Ω—ë—Ç —Å–µ—Ä–≤–µ—Ä, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∑–∞—â–∏—â—ë–Ω–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏?
<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

**–û—Ç–≤–µ—Ç:**
401 Unauthorized ‚Äî —Ç—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å—É.

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 2: –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É 401 –∏ 403
–í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –æ—à–∏–±–∫–∞–º–∏ 401 Unauthorized –∏ 403 Forbidden?
<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

**–û—Ç–≤–µ—Ç:**
401 ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω (–Ω—É–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É).
403 ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –Ω–æ —É –Ω–µ–≥–æ –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å—É.

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ 404
–ö–∞–∫–æ–π –∫–æ–¥ –≤–µ—Ä–Ω—ë—Ç —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—É?
<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

**–û—Ç–≤–µ—Ç:**
404 Not Found ‚Äî –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã–π —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–ù–∞–ø–∏—à–∏—Ç–µ –∫–æ–¥ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ 401, 403 –∏ 404 –≤ fetch-–∑–∞–ø—Ä–æ—Å–µ:
<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```javascript
fetch('/api/protected')
  .then(response => {
    if (response.status === 401) {
      console.error('–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è');
      window.location.href = '/login';
    } else if (response.status === 403) {
      console.error('–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â—ë–Ω');
      showErrorMessage('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤');
    } else if (response.status === 404) {
      console.error('–†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω');
      show404Page();
    } else if (!response.ok) {
      throw new Error(`HTTP ${response.status}`);
    }
    return response.json();
  });
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 5: Retry –ª–æ–≥–∏–∫–∞
–ü–æ—á–µ–º—É –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ 401, 403 –∏ 404?
<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

**–û—Ç–≤–µ—Ç:**
401 ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –∏–∑–º–µ–Ω—è—Ç —ç—Ç–æ—Ç —Ñ–∞–∫—Ç.
403 ‚Äî —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ø—Ä–∞–≤, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –¥–∞–¥—É—Ç –ø—Ä–∞–≤.
404 ‚Äî —Ä–µ—Å—É—Ä—Å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Å–æ–∑–¥–∞–¥—É—Ç —Ä–µ—Å—É—Ä—Å.

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 6: –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞
–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –∫–æ–¥–∞–º–∏ 401, 403 –∏ 404:
<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

| –ö–æ–¥ | –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | –ü—Ä–∞–≤–∞ | –°—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ | –†–µ—à–µ–Ω–∏–µ |
|-----|-------------|-------|----------------------|---------|
| 401 | ‚ùå | - | ‚úÖ | –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É |
| 403 | ‚úÖ | ‚ùå | ‚úÖ | –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–∞–≤–∞ |
| 404 | - | - | ‚ùå | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL |

</details>

---

üéâ –≠—Ç–∏ –∑–∞–¥–∞—á–∏ –ø–æ–º–æ–≥—É—Ç –ø–æ–Ω—è—Ç—å —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –æ—à–∏–±–∫–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ –∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö! 