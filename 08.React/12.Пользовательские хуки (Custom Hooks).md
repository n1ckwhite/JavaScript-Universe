# üìå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏ (Custom Hooks)

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏ (Custom Hooks)** ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–ª–∏ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –≠—Ç–æ –æ–±—ã—á–Ω—ã–µ JavaScript-—Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ö—É–∫–∏ React –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –ª–æ–≥–∏–∫–∏, –¥–µ–ª–∞—è –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º, –º–æ–¥—É–ª—å–Ω—ã–º –∏ —É–¥–æ–±–Ω—ã–º –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏?

### üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏** ‚Äî –æ–¥–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **–ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è** ‚Äî —Å–∫—Ä—ã—Ç–∏–µ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Ö—É–∫–∞
- **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å** ‚Äî —É–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –ª–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–æ–≥–∏–∫—É

### üîß –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:
```jsx
import { useState, useEffect } from 'react';

function useCustomHook(initialValue) {
  // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ö—É–∫–∏
  const [state, setState] = useState(initialValue);

  useEffect(() => {
    // –õ–æ–≥–∏–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞
  }, []);

  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
  return [state, setState];
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:
function MyComponent() {
  const [value, setValue] = useCustomHook('–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ');
  
  return <div>{value}</div>;
}
```

---

## üîπ –ü—Ä–∞–≤–∏–ª–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ö—É–∫–æ–≤

### üìå 1. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ
**–í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏ –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞ `use`.**

#### ‚úç –ü—Ä–∏–º–µ—Ä:
```jsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
function useCounter() { /* ... */ }
function useLocalStorage() { /* ... */ }
function useApi() { /* ... */ }

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
function counter() { /* ... */ }
function localStorage() { /* ... */ }
function api() { /* ... */ }
```

### üìå 2. –°–æ–±–ª—é–¥–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Ö—É–∫–æ–≤
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏ –¥–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–µ–º –∂–µ –ø—Ä–∞–≤–∏–ª–∞–º, —á—Ç–æ –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ö—É–∫–∏.**

#### ‚úç –ü—Ä–∞–≤–∏–ª–∞:
- –í—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ
- –ù–µ –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ –≤–Ω—É—Ç—Ä–∏ —Ü–∏–∫–ª–æ–≤, —É—Å–ª–æ–≤–∏–π –∏–ª–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –í—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ —Ç–æ–ª—å–∫–æ –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Ö—É–∫–∞—Ö

```jsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
function useCounter() {
  const [count, setCount] = useState(0);
  
  useEffect(() => {
    // –ª–æ–≥–∏–∫–∞
  }, []);
  
  return [count, setCount];
}

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
function useCounter() {
  if (someCondition) {
    const [count, setCount] = useState(0); // –û—à–∏–±–∫–∞!
  }
  
  return [count, setCount];
}
```

---

## üîπ –ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ö—É–∫–æ–≤

### üìå 1. –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑–º–µ—Ä–æ–º –æ–∫–Ω–∞
**–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞.**

#### ‚úç –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```jsx
import { useState, useEffect } from 'react';

function useWindowSize() {
  const [windowSize, setWindowSize] = useState({
    width: window.innerWidth,
    height: window.innerHeight
  });

  useEffect(() => {
    const handleResize = () => {
      setWindowSize({
        width: window.innerWidth,
        height: window.innerHeight
      });
    };

    window.addEventListener('resize', handleResize);

    return () => {
      window.removeEventListener('resize', handleResize);
    };
  }, []);

  return windowSize;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function ResponsiveComponent() {
  const { width, height } = useWindowSize();

  return (
    <div>
      <h2>–†–∞–∑–º–µ—Ä –æ–∫–Ω–∞</h2>
      <p>–®–∏—Ä–∏–Ω–∞: {width}px</p>
      <p>–í—ã—Å–æ—Ç–∞: {height}px</p>
      <p>–¢–∏–ø: {width < 768 ? '–ú–æ–±–∏–ª—å–Ω—ã–π' : '–î–µ—Å–∫—Ç–æ–ø'}</p>
    </div>
  );
}
```

### üìå 2. –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API
**–£–ø—Ä–æ—â–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞.**

#### ‚úç –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```jsx
import { useState, useEffect } from 'react';

function useFetch(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        setError(null);
        
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const result = await response.json();
        setData(result);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    if (url) {
      fetchData();
    }
  }, [url]);

  return { data, loading, error };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function UserList() {
  const { data: users, loading, error } = useFetch('/api/users');

  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>;
  if (error) return <div>–û—à–∏–±–∫–∞: {error}</div>;

  return (
    <ul>
      {users?.map(user => (
        <li key={user.id}>{user.name}</li>
      ))}
    </ul>
  );
}
```

### üìå 3. –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å localStorage
**–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º.**

#### ‚úç –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
```jsx
import { useState, useEffect } from 'react';

function useLocalStorage(key, defaultValue) {
  const [value, setValue] = useState(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : defaultValue;
    } catch (error) {
      console.error(`–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è localStorage –∫–ª—é—á–∞ "${key}":`, error);
      return defaultValue;
    }
  });

  useEffect(() => {
    try {
      window.localStorage.setItem(key, JSON.stringify(value));
    } catch (error) {
      console.error(`–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ localStorage –∫–ª—é—á–∞ "${key}":`, error);
    }
  }, [key, value]);

  return [value, setValue];
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function SettingsComponent() {
  const [theme, setTheme] = useLocalStorage('theme', 'light');
  const [language, setLanguage] = useLocalStorage('language', 'ru');

  return (
    <div>
      <select value={theme} onChange={(e) => setTheme(e.target.value)}>
        <option value="light">–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞</option>
        <option value="dark">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</option>
      </select>
      
      <select value={language} onChange={(e) => setLanguage(e.target.value)}>
        <option value="ru">–†—É—Å—Å–∫–∏–π</option>
        <option value="en">English</option>
      </select>
    </div>
  );
}
```

---

## üîπ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏?

### ‚úÖ **–ü–æ–¥—Ö–æ–¥—è—â–∏–µ —Å–ª—É—á–∞–∏:**
- **–ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è –ª–æ–≥–∏–∫–∞** ‚Äî –æ–¥–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **–°–ª–æ–∂–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** ‚Äî –º–Ω–æ–≥–æ –∫–æ–¥–∞ –≤ useEffect
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** ‚Äî —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **–†–∞–±–æ—Ç–∞ —Å API** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **–§–æ—Ä–º—ã** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–≤–æ–¥–∞

### ‚ùå **–ù–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å–ª—É—á–∞–∏:**
- **–ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞** ‚Äî –µ—Å–ª–∏ –ª–æ–≥–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- **UI-–ª–æ–≥–∏–∫–∞** ‚Äî –ª–æ–≥–∏–∫–∞, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞** ‚Äî —Å–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –ª—É—á—à–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –º–æ–¥—É–ª—è—Ö

---

## üîπ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### üìå 1. –•—É–∫ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –æ–ø—Ü–∏—è–º–∏
**–ì–∏–±–∫–∏–π —Ö—É–∫ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.**

#### ‚úç –ü—Ä–∏–º–µ—Ä:
```jsx
import { useState, useEffect } from 'react';

function useApi(url, options = {}) {
  const {
    method = 'GET',
    headers = {},
    body = null,
    immediate = true
  } = options;

  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);

  const execute = async (customOptions = {}) => {
    try {
      setLoading(true);
      setError(null);

      const response = await fetch(url, {
        method,
        headers: {
          'Content-Type': 'application/json',
          ...headers,
          ...customOptions.headers
        },
        body: body ? JSON.stringify(body) : customOptions.body
      });

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const result = await response.json();
      setData(result);
      return result;
    } catch (err) {
      setError(err.message);
      throw err;
    } finally {
      setLoading(false);
    }
  };

  useEffect(() => {
    if (immediate) {
      execute();
    }
  }, [url, immediate]);

  return { data, loading, error, execute };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function ApiComponent() {
  const { data, loading, error, execute } = useApi('/api/users', {
    immediate: false
  });

  const handleRefresh = () => {
    execute();
  };

  return (
    <div>
      <button onClick={handleRefresh} disabled={loading}>
        {loading ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–û–±–Ω–æ–≤–∏—Ç—å'}
      </button>
      {error && <div>–û—à–∏–±–∫–∞: {error}</div>}
      {data && <pre>{JSON.stringify(data, null, 2)}</pre>}
    </div>
  );
}
```

### üìå 2. –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ö—É–∫–æ–≤
**–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ö—É–∫–æ–≤ –≤ –æ–¥–∏–Ω.**

#### ‚úç –ü—Ä–∏–º–µ—Ä:
```jsx
import { useState, useEffect } from 'react';

function useCounter(initialValue = 0, step = 1) {
  const [count, setCount] = useState(initialValue);

  const increment = () => setCount(prev => prev + step);
  const decrement = () => setCount(prev => prev - step);
  const reset = () => setCount(initialValue);

  return { count, increment, decrement, reset };
}

function useTimer(initialTime = 0) {
  const [time, setTime] = useState(initialTime);
  const [isRunning, setIsRunning] = useState(false);

  useEffect(() => {
    let interval;
    if (isRunning) {
      interval = setInterval(() => {
        setTime(prev => prev + 1);
      }, 1000);
    }
    return () => clearInterval(interval);
  }, [isRunning]);

  const start = () => setIsRunning(true);
  const stop = () => setIsRunning(false);
  const reset = () => {
    setTime(initialTime);
    setIsRunning(false);
  };

  return { time, isRunning, start, stop, reset };
}

// –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ö—É–∫–æ–≤
function useGame() {
  const counter = useCounter(0, 1);
  const timer = useTimer(0);

  const startGame = () => {
    counter.reset();
    timer.reset();
    timer.start();
  };

  const endGame = () => {
    timer.stop();
  };

  return {
    score: counter.count,
    time: timer.time,
    isRunning: timer.isRunning,
    incrementScore: counter.increment,
    startGame,
    endGame
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function GameComponent() {
  const { score, time, isRunning, incrementScore, startGame, endGame } = useGame();

  return (
    <div>
      <h2>–ò–≥—Ä–∞</h2>
      <p>–°—á–µ—Ç: {score}</p>
      <p>–í—Ä–µ–º—è: {time}—Å</p>
      <p>–°—Ç–∞—Ç—É—Å: {isRunning ? '–ò–≥—Ä–∞ –∏–¥–µ—Ç' : '–ò–≥—Ä–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞'}</p>
      
      <button onClick={startGame} disabled={isRunning}>
        –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
      </button>
      <button onClick={incrementScore} disabled={!isRunning}>
        –£–≤–µ–ª–∏—á–∏—Ç—å —Å—á–µ—Ç
      </button>
      <button onClick={endGame} disabled={!isRunning}>
        –ó–∞–≤–µ—Ä—à–∏—Ç—å –∏–≥—Ä—É
      </button>
    </div>
  );
}
```

---

## üîπ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ö—É–∫–æ–≤

### üìå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @testing-library/react-hooks:
```jsx
import { renderHook, act } from '@testing-library/react-hooks';
import { useCounter } from './useCounter';

test('should increment counter', () => {
  const { result } = renderHook(() => useCounter(0));

  act(() => {
    result.current.increment();
  });

  expect(result.current.count).toBe(1);
});

test('should reset counter', () => {
  const { result } = renderHook(() => useCounter(5));

  act(() => {
    result.current.increment();
    result.current.reset();
  });

  expect(result.current.count).toBe(5);
});
```

---

## üéØ –ò—Ç–æ–≥

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏** ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏ –≤ React.

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –ù–∞—á–∏–Ω–∞–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å `use`
- –°–æ–±–ª—é–¥–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ —Ö—É–∫–æ–≤
- –ò–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É–π—Ç–µ —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É
- –î–µ–ª–∞–π—Ç–µ —Ö—É–∫–∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏
- –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ

---

## üèÜ –ó–ê–î–ê–ß–ò

–ó–∞–¥–∞—á–∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏: `–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ö—É–∫–∏ (Custom Hooks)`

---

### üìå –ó–∞–¥–∞—á–∞ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫ useToggle
–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ö—É–∫, –∫–æ—Ç–æ—Ä—ã–π:
- –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç –±—É–ª–µ–≤–æ –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É true –∏ false
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏ —Ñ—É–Ω–∫—Ü–∏—é –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import { useState } from 'react';

function useToggle(initialValue = false) {
  const [value, setValue] = useState(initialValue);

  const toggle = () => setValue(prev => !prev);
  const setTrue = () => setValue(true);
  const setFalse = () => setValue(false);

  return [value, { toggle, setTrue, setFalse }];
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function ToggleComponent() {
  const [isVisible, { toggle, setTrue, setFalse }] = useToggle(false);

  return (
    <div className="toggle-component">
      <h2>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è useToggle</h2>
      
      <div className="controls">
        <button onClick={toggle}>
          {isVisible ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–∫–∞–∑–∞—Ç—å'}
        </button>
        <button onClick={setTrue}>–ü–æ–∫–∞–∑–∞—Ç—å</button>
        <button onClick={setFalse}>–°–∫—Ä—ã—Ç—å</button>
      </div>

      {isVisible && (
        <div className="content">
          <h3>–°–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç</h3>
          <p>–≠—Ç–æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ isVisible = true</p>
        </div>
      )}

      <div className="status">
        <p>–°—Ç–∞—Ç—É—Å: {isVisible ? '–í–∏–¥–∏–º—ã–π' : '–°–∫—Ä—ã—Ç—ã–π'}</p>
      </div>
    </div>
  );
}

export default ToggleComponent;
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 2: –°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫ useDebounce
–°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫, –∫–æ—Ç–æ—Ä—ã–π:
- –ó–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è
- –ü–æ–ª–µ–∑–µ–Ω –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –∑–∞–¥–µ—Ä–∂–∫—É –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import { useState, useEffect } from 'react';

function useDebounce(value, delay) {
  const [debouncedValue, setDebouncedValue] = useState(value);

  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    return () => {
      clearTimeout(handler);
    };
  }, [value, delay]);

  return debouncedValue;
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function SearchComponent() {
  const [searchTerm, setSearchTerm] = useState('');
  const debouncedSearchTerm = useDebounce(searchTerm, 500);

  useEffect(() => {
    if (debouncedSearchTerm) {
      console.log('–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–∏—Å–∫ –ø–æ:', debouncedSearchTerm);
      // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å API –∑–∞–ø—Ä–æ—Å
    }
  }, [debouncedSearchTerm]);

  return (
    <div className="search-component">
      <h2>–ü–æ–∏—Å–∫ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π</h2>
      
      <input
        type="text"
        value={searchTerm}
        onChange={(e) => setSearchTerm(e.target.value)}
        placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å..."
      />
      
      <div className="info">
        <p>–¢–µ–∫—É—â–∏–π –≤–≤–æ–¥: <strong>{searchTerm}</strong></p>
        <p>–ü–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ: <strong>{debouncedSearchTerm}</strong></p>
        <p>–ó–∞–¥–µ—Ä–∂–∫–∞: 500–º—Å</p>
      </div>

      {debouncedSearchTerm && (
        <div className="search-results">
          <p>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –¥–ª—è: "{debouncedSearchTerm}"</p>
          {/* –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ */}
        </div>
      )}
    </div>
  );
}

export default SearchComponent;
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 3: –°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫ useForm
–°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–æ–π, –∫–æ—Ç–æ—Ä—ã–π:
- –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã
- –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–ø—Ä–∞–≤–∫—É —Ñ–æ—Ä–º—ã
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–±—Ä–æ—Å —Ñ–æ—Ä–º—ã

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import { useState, useCallback } from 'react';

function useForm(initialValues = {}, validationRules = {}) {
  const [values, setValues] = useState(initialValues);
  const [errors, setErrors] = useState({});
  const [touched, setTouched] = useState({});

  const setValue = useCallback((name, value) => {
    setValues(prev => ({ ...prev, [name]: value }));
    
    // –û—á–∏—â–∞–µ–º –æ—à–∏–±–∫—É –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: '' }));
    }
  }, [errors]);

  const setFieldTouched = useCallback((name) => {
    setTouched(prev => ({ ...prev, [name]: true }));
  }, []);

  const validateField = useCallback((name, value) => {
    const rule = validationRules[name];
    if (!rule) return '';

    if (rule.required && (!value || value.trim() === '')) {
      return rule.required;
    }

    if (rule.minLength && value.length < rule.minLength) {
      return rule.minLength;
    }

    if (rule.pattern && !rule.pattern.test(value)) {
      return rule.pattern;
    }

    if (rule.custom && typeof rule.custom === 'function') {
      return rule.custom(value);
    }

    return '';
  }, [validationRules]);

  const validateForm = useCallback(() => {
    const newErrors = {};
    let isValid = true;

    Object.keys(validationRules).forEach(name => {
      const error = validateField(name, values[name]);
      if (error) {
        newErrors[name] = error;
        isValid = false;
      }
    });

    setErrors(newErrors);
    return isValid;
  }, [values, validationRules, validateField]);

  const handleChange = useCallback((e) => {
    const { name, value, type, checked } = e.target;
    const fieldValue = type === 'checkbox' ? checked : value;
    setValue(name, fieldValue);
  }, [setValue]);

  const handleBlur = useCallback((e) => {
    const { name } = e.target;
    setFieldTouched(name);
    
    const error = validateField(name, values[name]);
    setErrors(prev => ({ ...prev, [name]: error }));
  }, [setFieldTouched, validateField, values]);

  const handleSubmit = useCallback((onSubmit) => (e) => {
    e.preventDefault();
    
    if (validateForm()) {
      onSubmit(values);
    }
  }, [validateForm, values]);

  const resetForm = useCallback(() => {
    setValues(initialValues);
    setErrors({});
    setTouched({});
  }, [initialValues]);

  return {
    values,
    errors,
    touched,
    setValue,
    handleChange,
    handleBlur,
    handleSubmit,
    resetForm,
    validateForm,
    isValid: Object.keys(errors).length === 0
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function ContactForm() {
  const validationRules = {
    name: {
      required: '–ò–º—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ',
      minLength: '–ò–º—è –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 2 —Å–∏–º–≤–æ–ª–∞'
    },
    email: {
      required: 'Email –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω',
      pattern: {
        test: /^[^\s@]+@[^\s@]+\.[^\s@]+$/,
        message: '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email'
      }
    },
    phone: {
      required: '–¢–µ–ª–µ—Ñ–æ–Ω –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω',
      pattern: {
        test: /^\+?[\d\s\-\(\)]+$/,
        message: '–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞'
      }
    },
    message: {
      required: '–°–æ–æ–±—â–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ',
      minLength: '–°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤'
    }
  };

  const {
    values,
    errors,
    touched,
    handleChange,
    handleBlur,
    handleSubmit,
    resetForm,
    isValid
  } = useForm({
    name: '',
    email: '',
    phone: '',
    message: ''
  }, validationRules);

  const onSubmit = (formData) => {
    console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã:', formData);
    alert('–§–æ—Ä–º–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞!');
    resetForm();
  };

  return (
    <div className="contact-form">
      <h2>–§–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</h2>
      
      <form onSubmit={handleSubmit(onSubmit)}>
        <div className="form-group">
          <label htmlFor="name">–ò–º—è:</label>
          <input
            type="text"
            id="name"
            name="name"
            value={values.name}
            onChange={handleChange}
            onBlur={handleBlur}
            className={touched.name && errors.name ? 'error' : ''}
          />
          {touched.name && errors.name && (
            <span className="error-message">{errors.name}</span>
          )}
        </div>

        <div className="form-group">
          <label htmlFor="email">Email:</label>
          <input
            type="email"
            id="email"
            name="email"
            value={values.email}
            onChange={handleChange}
            onBlur={handleBlur}
            className={touched.email && errors.email ? 'error' : ''}
          />
          {touched.email && errors.email && (
            <span className="error-message">{errors.email}</span>
          )}
        </div>

        <div className="form-group">
          <label htmlFor="phone">–¢–µ–ª–µ—Ñ–æ–Ω:</label>
          <input
            type="tel"
            id="phone"
            name="phone"
            value={values.phone}
            onChange={handleChange}
            onBlur={handleBlur}
            className={touched.phone && errors.phone ? 'error' : ''}
          />
          {touched.phone && errors.phone && (
            <span className="error-message">{errors.phone}</span>
          )}
        </div>

        <div className="form-group">
          <label htmlFor="message">–°–æ–æ–±—â–µ–Ω–∏–µ:</label>
          <textarea
            id="message"
            name="message"
            value={values.message}
            onChange={handleChange}
            onBlur={handleBlur}
            rows="4"
            className={touched.message && errors.message ? 'error' : ''}
          />
          {touched.message && errors.message && (
            <span className="error-message">{errors.message}</span>
          )}
        </div>

        <div className="form-actions">
          <button type="submit" disabled={!isValid}>
            –û—Ç–ø—Ä–∞–≤–∏—Ç—å
          </button>
          <button type="button" onClick={resetForm}>
            –°–±—Ä–æ—Å–∏—Ç—å
          </button>
        </div>
      </form>
    </div>
  );
}

export default ContactForm;
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 4: –°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫ useOnlineStatus
–°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫, –∫–æ—Ç–æ—Ä—ã–π:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–∏–ø–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import { useState, useEffect } from 'react';

function useOnlineStatus() {
  const [isOnline, setIsOnline] = useState(navigator.onLine);
  const [connectionType, setConnectionType] = useState('unknown');

  useEffect(() => {
    const handleOnline = () => setIsOnline(true);
    const handleOffline = () => setIsOnline(false);

    // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);

    // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–∏–ø–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
    if ('connection' in navigator) {
      const connection = navigator.connection;
      setConnectionType(connection.effectiveType || 'unknown');

      const handleConnectionChange = () => {
        setConnectionType(connection.effectiveType || 'unknown');
      };

      connection.addEventListener('change', handleConnectionChange);

      return () => {
        window.removeEventListener('online', handleOnline);
        window.removeEventListener('offline', handleOffline);
        connection.removeEventListener('change', handleConnectionChange);
      };
    }

    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  const getConnectionInfo = () => {
    if (!isOnline) return '–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è';
    
    if ('connection' in navigator) {
      const connection = navigator.connection;
      return {
        type: connection.effectiveType || 'unknown',
        downlink: connection.downlink || 'unknown',
        rtt: connection.rtt || 'unknown',
        saveData: connection.saveData || false
      };
    }
    
    return '–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –µ—Å—Ç—å, –¥–µ—Ç–∞–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã';
  };

  return {
    isOnline,
    connectionType,
    connectionInfo: getConnectionInfo()
  };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function NetworkStatus() {
  const { isOnline, connectionType, connectionInfo } = useOnlineStatus();

  return (
    <div className="network-status">
      <h2>–°—Ç–∞—Ç—É—Å —Å–µ—Ç–∏</h2>
      
      <div className="status-indicator">
        <div className={`status-dot ${isOnline ? 'online' : 'offline'}`}></div>
        <span className="status-text">
          {isOnline ? '–û–Ω–ª–∞–π–Ω' : '–û—Ñ–ª–∞–π–Ω'}
        </span>
      </div>

      {isOnline && (
        <div className="connection-details">
          <h3>–î–µ—Ç–∞–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:</h3>
          <div className="details-grid">
            <div className="detail-item">
              <strong>–¢–∏–ø —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è:</strong>
              <span>{connectionType}</span>
            </div>
            
            {typeof connectionInfo === 'object' && (
              <>
                <div className="detail-item">
                  <strong>–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏:</strong>
                  <span>{connectionInfo.downlink} Mbps</span>
                </div>
                
                <div className="detail-item">
                  <strong>–ó–∞–¥–µ—Ä–∂–∫–∞ (RTT):</strong>
                  <span>{connectionInfo.rtt} ms</span>
                </div>
                
                <div className="detail-item">
                  <strong>–†–µ–∂–∏–º —ç–∫–æ–Ω–æ–º–∏–∏:</strong>
                  <span>{connectionInfo.saveData ? '–í–∫–ª—é—á–µ–Ω' : '–í—ã–∫–ª—é—á–µ–Ω'}</span>
                </div>
              </>
            )}
          </div>
        </div>
      )}

      <div className="status-message">
        {isOnline ? (
          <p className="success">‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –∞–∫—Ç–∏–≤–Ω–æ</p>
        ) : (
          <p className="error">‚ùå –ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É</p>
        )}
      </div>

      <div className="instructions">
        <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h3>
        <ul>
          <li>–û—Ç–∫–ª—é—á–∏—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –±—Ä–∞—É–∑–µ—Ä–∞</li>
          <li>–í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º "–í —Å–∞–º–æ–ª–µ—Ç–µ" –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ</li>
          <li>–û—Ç–∫–ª—é—á–∏—Ç–µ Wi-Fi –∏–ª–∏ –º–æ–±–∏–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</li>
          <li>–°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</li>
        </ul>
      </div>
    </div>
  );
}

export default NetworkStatus;
```

</details>

---

üéâ –≠—Ç–∏ –∑–∞–¥–∞—á–∏ –ø–æ–º–æ–≥—É—Ç –æ—Å–≤–æ–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ö—É–∫–æ–≤ –≤ React!

---
