# üìå useEffect —Ö—É–∫

**useEffect** ‚Äî —ç—Ç–æ –æ–¥–∏–Ω –∏–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ö—É–∫–æ–≤ –≤ React, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –≤–∫–ª—é—á–∞—é—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Å–≤—è–∑–∞–Ω—ã –Ω–∞–ø—Ä—è–º—É—é —Å –ø—Ä–æ—Ü–µ—Å—Å–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞, —Ç–∞–∫–∏–µ –∫–∞–∫ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è, –∏–∑–º–µ–Ω–µ–Ω–∏–µ DOM –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∞–π–º–µ—Ä–æ–≤.

---

## üîπ –ß—Ç–æ —Ç–∞–∫–æ–µ useEffect?

### üìå –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏** ‚Äî –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–Ω–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- **–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª** ‚Äî –∞–Ω–∞–ª–æ–≥ –º–µ—Ç–æ–¥–æ–≤ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –≤ –∫–ª–∞—Å—Å–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **–û—á–∏—Å—Ç–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤** ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- **–ö–æ–Ω—Ç—Ä–æ–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** ‚Äî —á–µ—Ä–µ–∑ –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### üîß –ë–∞–∑–æ–≤—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å:
```jsx
import React, { useEffect } from 'react';

function MyComponent() {
  useEffect(() => {
    // –ö–æ–¥ —ç—Ñ—Ñ–µ–∫—Ç–∞
    console.log('–≠—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω');
    
    // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏
    return () => {
      console.log('–û—á–∏—Å—Ç–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–∞');
    };
  }, [–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏]); // –ú–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

  return <div>–ú–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç</div>;
}
```

---

## üîπ –¢–∏–ø—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useEffect

### üìå 1. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞
**–≠—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.**

#### ‚úç –ü—Ä–∏–º–µ—Ä:
```jsx
import React, { useState, useEffect } from 'react';

function Counter() {
  const [count, setCount] = useState(0);

  useEffect(() => {
    console.log('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–æ–≤–ª–µ–Ω, count:', count);
  }); // –ë–µ–∑ –º–∞—Å—Å–∏–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

  return (
    <div>
      <p>–°—á–µ—Ç—á–∏–∫: {count}</p>
      <button onClick={() => setCount(count + 1)}>
        –£–≤–µ–ª–∏—á–∏—Ç—å
      </button>
    </div>
  );
}
```

### üìå 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
**–≠—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∞.**

#### ‚úç –ü—Ä–∏–º–µ—Ä:
```jsx
import React, { useState, useEffect } from 'react';

function UserProfile({ userId }) {
  const [user, setUser] = useState(null);

  useEffect(() => {
    console.log('–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω');
    
    // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    fetch(`/api/users/${userId}`)
      .then(response => response.json())
      .then(data => setUser(data));
  }, []); // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

  if (!user) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;

  return (
    <div>
      <h2>{user.name}</h2>
      <p>{user.email}</p>
    </div>
  );
}
```

### üìå 3. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
**–≠—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.**

#### ‚úç –ü—Ä–∏–º–µ—Ä:
```jsx
import React, { useState, useEffect } from 'react';

function SearchResults({ query }) {
  const [results, setResults] = useState([]);
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    if (!query) return;

    setLoading(true);
    
    // –ü–æ–∏—Å–∫ –ø–æ –∑–∞–ø—Ä–æ—Å—É
    fetch(`/api/search?q=${query}`)
      .then(response => response.json())
      .then(data => {
        setResults(data);
        setLoading(false);
      });
  }, [query]); // –≠—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ query

  return (
    <div>
      {loading ? (
        <div>–ü–æ–∏—Å–∫...</div>
      ) : (
        <ul>
          {results.map(result => (
            <li key={result.id}>{result.title}</li>
          ))}
        </ul>
      )}
    </div>
  );
}
```

---

## üîπ –û—á–∏—Å—Ç–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

### üìå –ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –æ—á–∏—Å—Ç–∫–∞?
**–û—á–∏—Å—Ç–∫–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏ –∏ –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã.**

### üîß –ü—Ä–∏–º–µ—Ä —Å —Ç–∞–π–º–µ—Ä–æ–º:
```jsx
import React, { useState, useEffect } from 'react';

function Timer() {
  const [seconds, setSeconds] = useState(0);

  useEffect(() => {
    const intervalId = setInterval(() => {
      setSeconds(prev => prev + 1);
    }, 1000);

    // –§—É–Ω–∫—Ü–∏—è –æ—á–∏—Å—Ç–∫–∏
    return () => {
      clearInterval(intervalId);
    };
  }, []); // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

  return (
    <div>
      <h2>–¢–∞–π–º–µ—Ä: {seconds} —Å–µ–∫</h2>
    </div>
  );
}
```

### üìå –ü—Ä–∏–º–µ—Ä —Å –ø–æ–¥–ø–∏—Å–∫–æ–π –Ω–∞ —Å–æ–±—ã—Ç–∏—è:
```jsx
import React, { useState, useEffect } from 'react';

function WindowSize() {
  const [windowSize, setWindowSize] = useState({
    width: window.innerWidth,
    height: window.innerHeight
  });

  useEffect(() => {
    const handleResize = () => {
      setWindowSize({
        width: window.innerWidth,
        height: window.innerHeight
      });
    };

    window.addEventListener('resize', handleResize);

    // –û—á–∏—Å—Ç–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏
    return () => {
      window.removeEventListener('resize', handleResize);
    };
  }, []);

  return (
    <div>
      <p>–®–∏—Ä–∏–Ω–∞: {windowSize.width}px</p>
      <p>–í—ã—Å–æ—Ç–∞: {windowSize.height}px</p>
    </div>
  );
}
```

---

## üîπ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ useEffect

### üìå –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–∞–±–æ—Ç—ã —Å async/await:
**useEffect –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é.**

### üîß –•–æ—Ä–æ—à–∏–π –ø—Ä–∏–º–µ—Ä:
```jsx
import React, { useState, useEffect } from 'react';

function DataFetcher({ url }) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        setError(null);
        
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö');
        }
        
        const result = await response.json();
        setData(result);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, [url]);

  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;
  if (error) return <div>–û—à–∏–±–∫–∞: {error}</div>;

  return (
    <div>
      <pre>{JSON.stringify(data, null, 2)}</pre>
    </div>
  );
}
```

### ‚ùå –ü–ª–æ—Ö–æ–π –ø—Ä–∏–º–µ—Ä:
```jsx
// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - useEffect –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç async –Ω–∞–ø—Ä—è–º—É—é
useEffect(async () => {
  const data = await fetch('/api/data');
  setData(data);
}, []);
```

---

## üîπ –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ useEffect

### üìå –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏:
**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ useEffect –¥–ª—è —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.**

#### ‚úç –ü—Ä–∏–º–µ—Ä:
```jsx
import React, { useState, useEffect } from 'react';

function UserDashboard({ userId }) {
  const [user, setUser] = useState(null);
  const [posts, setPosts] = useState([]);
  const [onlineStatus, setOnlineStatus] = useState(false);

  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  useEffect(() => {
    fetch(`/api/users/${userId}`)
      .then(response => response.json())
      .then(data => setUser(data));
  }, [userId]);

  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ—Å—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  useEffect(() => {
    if (!userId) return;

    fetch(`/api/users/${userId}/posts`)
      .then(response => response.json())
      .then(data => setPosts(data));
  }, [userId]);

  // –≠—Ñ—Ñ–µ–∫—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞
  useEffect(() => {
    const checkOnlineStatus = () => {
      setOnlineStatus(navigator.onLine);
    };

    window.addEventListener('online', checkOnlineStatus);
    window.addEventListener('offline', checkOnlineStatus);

    return () => {
      window.removeEventListener('online', checkOnlineStatus);
      window.removeEventListener('offline', checkOnlineStatus);
    };
  }, []);

  return (
    <div>
      <h2>{user?.name}</h2>
      <p>–°—Ç–∞—Ç—É—Å: {onlineStatus ? '–û–Ω–ª–∞–π–Ω' : '–û—Ñ–ª–∞–π–Ω'}</p>
      <div>
        <h3>–ü–æ—Å—Ç—ã:</h3>
        {posts.map(post => (
          <div key={post.id}>{post.title}</div>
        ))}
      </div>
    </div>
  );
}
```

---

## üîπ –ü—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ useEffect

### ‚ùå **–ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏:**

#### 1. –ó–∞–±—ã–≤–∞–Ω–∏–µ –º–∞—Å—Å–∏–≤–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```jsx
// ‚ùå –ü–ª–æ—Ö–æ - —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Ä–µ–Ω–¥–µ—Ä–µ
useEffect(() => {
  console.log('–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑');
});

// ‚úÖ –•–æ—Ä–æ—à–æ - —ç—Ñ—Ñ–µ–∫—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
useEffect(() => {
  console.log('–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑');
}, []);
```

#### 2. –ù–µ–ø–æ–ª–Ω—ã–π –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```jsx
// ‚ùå –ü–ª–æ—Ö–æ - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç count –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
useEffect(() => {
  document.title = `–°—á–µ—Ç—á–∏–∫: ${count}`;
}, []); // count –Ω–µ —É–∫–∞–∑–∞–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö

// ‚úÖ –•–æ—Ä–æ—à–æ - count —É–∫–∞–∑–∞–Ω –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
useEffect(() => {
  document.title = `–°—á–µ—Ç—á–∏–∫: ${count}`;
}, [count]);
```

#### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—á–∏—Å—Ç–∫–∏:
```jsx
// ‚ùå –ü–ª–æ—Ö–æ - –Ω–µ—Ç –æ—á–∏—Å—Ç–∫–∏ —Ç–∞–π–º–µ—Ä–∞
useEffect(() => {
  const timer = setInterval(() => {
    console.log('–¢–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç');
  }, 1000);
}, []);

// ‚úÖ –•–æ—Ä–æ—à–æ - –µ—Å—Ç—å –æ—á–∏—Å—Ç–∫–∞ —Ç–∞–π–º–µ—Ä–∞
useEffect(() => {
  const timer = setInterval(() => {
    console.log('–¢–∞–π–º–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç');
  }, 1000);

  return () => clearInterval(timer);
}, []);
```

#### 4. –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ü–∏–∫–ª—ã:
```jsx
// ‚ùå –ü–ª–æ—Ö–æ - –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª
useEffect(() => {
  setCount(count + 1);
}, [count]); // count –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –≤ —ç—Ñ—Ñ–µ–∫—Ç–µ

// ‚úÖ –•–æ—Ä–æ—à–æ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
useEffect(() => {
  setCount(prev => prev + 1);
}, []); // –∏–ª–∏ —É–∫–∞–∂–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üîπ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### üìå 1. –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
```jsx
import { useState, useEffect } from 'react';

function useFetch(url) {
  const [data, setData] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchData = async () => {
      try {
        setLoading(true);
        setError(null);
        
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏');
        }
        
        const result = await response.json();
        setData(result);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, [url]);

  return { data, loading, error };
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function UserProfile({ userId }) {
  const { data: user, loading, error } = useFetch(`/api/users/${userId}`);

  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>;
  if (error) return <div>–û—à–∏–±–∫–∞: {error}</div>;

  return (
    <div>
      <h2>{user.name}</h2>
      <p>{user.email}</p>
    </div>
  );
}
```

### üìå 2. –≠—Ñ—Ñ–µ–∫—Ç —Å –æ—Ç–º–µ–Ω–æ–π –∑–∞–ø—Ä–æ—Å–∞:
```jsx
import { useState, useEffect } from 'react';

function SearchComponent() {
  const [query, setQuery] = useState('');
  const [results, setResults] = useState([]);
  const [loading, setLoading] = useState(false);

  useEffect(() => {
    if (!query) {
      setResults([]);
      return;
    }

    const controller = new AbortController();
    
    const searchData = async () => {
      try {
        setLoading(true);
        
        const response = await fetch(`/api/search?q=${query}`, {
          signal: controller.signal
        });
        
        const data = await response.json();
        setResults(data);
      } catch (error) {
        if (error.name !== 'AbortError') {
          console.error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞:', error);
        }
      } finally {
        setLoading(false);
      }
    };

    searchData();

    return () => {
      controller.abort();
    };
  }, [query]);

  return (
    <div>
      <input
        type="text"
        value={query}
        onChange={(e) => setQuery(e.target.value)}
        placeholder="–ü–æ–∏—Å–∫..."
      />
      {loading && <div>–ü–æ–∏—Å–∫...</div>}
      <ul>
        {results.map(result => (
          <li key={result.id}>{result.title}</li>
        ))}
      </ul>
    </div>
  );
}
```

---

## üéØ –ò—Ç–æ–≥

**useEffect** ‚Äî –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –≤ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã:**
- –í—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –†–µ–∞–ª–∏–∑—É–π—Ç–µ –æ—á–∏—Å—Ç–∫—É –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ async —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –†–∞–∑–¥–µ–ª—è–π—Ç–µ –ª–æ–≥–∏–∫—É –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ useEffect
- –ò–∑–±–µ–≥–∞–π—Ç–µ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö —Ü–∏–∫–ª–æ–≤

## üèÜ –ó–ê–î–ê–ß–ò

–ó–∞–¥–∞—á–∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏: `useEffect —Ö—É–∫`

---

### üìå –ó–∞–¥–∞—á–∞ 1: –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Ç–∞–π–º–µ—Ä–æ–º
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
- –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import React, { useState, useEffect } from 'react';

function Clock() {
  const [time, setTime] = useState(new Date());

  useEffect(() => {
    const timer = setInterval(() => {
      setTime(new Date());
    }, 1000);

    return () => {
      clearInterval(timer);
    };
  }, []);

  return (
    <div className="clock">
      <h2>–¢–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è:</h2>
      <p>{time.toLocaleTimeString()}</p>
      <p>{time.toLocaleDateString()}</p>
    </div>
  );
}

export default Clock;
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 2: –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å API
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ URL

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import React, { useState, useEffect } from 'react';

function UserList({ apiUrl }) {
  const [users, setUsers] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchUsers = async () => {
      try {
        setLoading(true);
        setError(null);
        
        const response = await fetch(apiUrl);
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        const userData = await response.json();
        setUsers(userData);
      } catch (err) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    if (apiUrl) {
      fetchUsers();
    }
  }, [apiUrl]);

  if (loading) {
    return <div className="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...</div>;
  }

  if (error) {
    return <div className="error">–û—à–∏–±–∫–∞: {error}</div>;
  }

  return (
    <div className="user-list">
      <h2>–°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
      {users.length === 0 ? (
        <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</p>
      ) : (
        <ul>
          {users.map(user => (
            <li key={user.id} className="user-item">
              <h3>{user.name}</h3>
              <p>{user.email}</p>
              <p>–¢–µ–ª–µ—Ñ–æ–Ω: {user.phone}</p>
            </li>
          ))}
        </ul>
      )}
    </div>
  );
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
function App() {
  const [currentApi, setCurrentApi] = useState('https://jsonplaceholder.typicode.com/users');

  return (
    <div className="app">
      <div className="controls">
        <button onClick={() => setCurrentApi('https://jsonplaceholder.typicode.com/users')}>
          –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        </button>
        <button onClick={() => setCurrentApi('https://jsonplaceholder.typicode.com/posts')}>
          –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ—Å—Ç—ã
        </button>
      </div>
      <UserList apiUrl={currentApi} />
    </div>
  );
}

export default App;
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 3: –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –±—Ä–∞—É–∑–µ—Ä–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —à–∏—Ä–∏–Ω—É –∏ –≤—ã—Å–æ—Ç—É
- –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞
- –û—á–∏—â–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import React, { useState, useEffect } from 'react';

function WindowTracker() {
  const [windowSize, setWindowSize] = useState({
    width: window.innerWidth,
    height: window.innerHeight
  });

  useEffect(() => {
    const handleResize = () => {
      setWindowSize({
        width: window.innerWidth,
        height: window.innerHeight
      });
    };

    window.addEventListener('resize', handleResize);

    return () => {
      window.removeEventListener('resize', handleResize);
    };
  }, []);

  const getScreenSize = () => {
    if (windowSize.width < 768) return '–ú–æ–±–∏–ª—å–Ω—ã–π';
    if (windowSize.width < 1024) return '–ü–ª–∞–Ω—à–µ—Ç';
    return '–î–µ—Å–∫—Ç–æ–ø';
  };

  return (
    <div className="window-tracker">
      <h2>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–∑–º–µ—Ä–µ –æ–∫–Ω–∞</h2>
      <div className="size-info">
        <p><strong>–®–∏—Ä–∏–Ω–∞:</strong> {windowSize.width}px</p>
        <p><strong>–í—ã—Å–æ—Ç–∞:</strong> {windowSize.height}px</p>
        <p><strong>–¢–∏–ø —ç–∫—Ä–∞–Ω–∞:</strong> {getScreenSize()}</p>
      </div>
      
      <div className="visual-indicator">
        <div 
          className="size-bar"
          style={{ 
            width: `${Math.min(windowSize.width / 10, 100)}%`,
            height: `${Math.min(windowSize.height / 20, 100)}px`
          }}
        >
          –†–∞–∑–º–µ—Ä –æ–∫–Ω–∞
        </div>
      </div>
    </div>
  );
}

export default WindowTracker;
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 4: –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ª–æ–∫–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π:
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ localStorage
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –≤–∫–ª–∞–¥–∫–∞–º–∏
- –û—á–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import React, { useState, useEffect } from 'react';

function LocalStorageComponent() {
  const [data, setData] = useState('');
  const [savedData, setSavedData] = useState('');

  // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
  useEffect(() => {
    const saved = localStorage.getItem('userData');
    if (saved) {
      setSavedData(saved);
    }
  }, []);

  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –≤–∫–ª–∞–¥–∫–∞–º–∏
  useEffect(() => {
    const handleStorageChange = (e) => {
      if (e.key === 'userData') {
        setSavedData(e.newValue || '');
      }
    };

    window.addEventListener('storage', handleStorageChange);

    return () => {
      window.removeEventListener('storage', handleStorageChange);
    };
  }, []);

  const saveData = () => {
    localStorage.setItem('userData', data);
    setSavedData(data);
    setData('');
  };

  const clearData = () => {
    localStorage.removeItem('userData');
    setSavedData('');
  };

  return (
    <div className="local-storage">
      <h2>–†–∞–±–æ—Ç–∞ —Å localStorage</h2>
      
      <div className="input-section">
        <input
          type="text"
          value={data}
          onChange={(e) => setData(e.target.value)}
          placeholder="–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è"
        />
        <button onClick={saveData} disabled={!data.trim()}>
          –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
        </button>
      </div>

      <div className="saved-section">
        <h3>–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</h3>
        {savedData ? (
          <div className="saved-data">
            <p>{savedData}</p>
            <button onClick={clearData}>–û—á–∏—Å—Ç–∏—Ç—å</button>
          </div>
        ) : (
          <p>–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</p>
        )}
      </div>

      <div className="info">
        <p><strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:</strong></p>
        <ul>
          <li>–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"</li>
          <li>–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –≤ localStorage</li>
          <li>–û—Ç–∫—Ä–æ–π—Ç–µ –¥—Ä—É–≥—É—é –≤–∫–ª–∞–¥–∫—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏</li>
          <li>–ò–∑–º–µ–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –¥—Ä—É–≥–æ–π –≤–∫–ª–∞–¥–∫–µ - –æ–Ω–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è –∑–¥–µ—Å—å</li>
        </ul>
      </div>
    </div>
  );
}

export default LocalStorageComponent;
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 5: –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å debounced –ø–æ–∏—Å–∫–æ–º
–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∏—Å–∫–∞, –∫–æ—Ç–æ—Ä—ã–π:
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∏—Å–∫ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π (debounce)
- –û—Ç–º–µ–Ω—è–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import React, { useState, useEffect, useRef } from 'react';

function DebouncedSearch() {
  const [query, setQuery] = useState('');
  const [results, setResults] = useState([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState(null);
  const timeoutRef = useRef(null);

  useEffect(() => {
    // –û—á–∏—â–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ç–∞–π–º–µ—Ä
    if (timeoutRef.current) {
      clearTimeout(timeoutRef.current);
    }

    if (!query.trim()) {
      setResults([]);
      setLoading(false);
      return;
    }

    setLoading(true);
    setError(null);

    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—ã–π —Ç–∞–π–º–µ—Ä
    timeoutRef.current = setTimeout(async () => {
      try {
        // –ò–º–∏—Ç–∞—Ü–∏—è API –∑–∞–ø—Ä–æ—Å–∞
        const response = await fetch(`https://jsonplaceholder.typicode.com/posts?q=${query}`);
        
        if (!response.ok) {
          throw new Error('–û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞');
        }
        
        const data = await response.json();
        setResults(data.slice(0, 5)); // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
      } catch (err) {
        setError(err.message);
        setResults([]);
      } finally {
        setLoading(false);
      }
    }, 500); // –ó–∞–¥–µ—Ä–∂–∫–∞ 500–º—Å

    // –û—á–∏—Å—Ç–∫–∞ —Ç–∞–π–º–µ—Ä–∞ –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
    return () => {
      if (timeoutRef.current) {
        clearTimeout(timeoutRef.current);
      }
    };
  }, [query]);

  return (
    <div className="debounced-search">
      <h2>–ü–æ–∏—Å–∫ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π</h2>
      
      <div className="search-input">
        <input
          type="text"
          value={query}
          onChange={(e) => setQuery(e.target.value)}
          placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞..."
        />
        {loading && <span className="loading-indicator">‚è≥</span>}
      </div>

      {error && (
        <div className="error">
          –û—à–∏–±–∫–∞: {error}
        </div>
      )}

      {results.length > 0 && (
        <div className="results">
          <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞:</h3>
          <ul>
            {results.map(result => (
              <li key={result.id} className="result-item">
                <h4>{result.title}</h4>
                <p>{result.body}</p>
              </li>
            ))}
          </ul>
        </div>
      )}

      {query && !loading && results.length === 0 && !error && (
        <div className="no-results">
          –ü–æ –∑–∞–ø—Ä–æ—Å—É "{query}" –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
        </div>
      )}
    </div>
  );
}

export default DebouncedSearch;
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 6: –°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ useLocalStorage
–°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫, –∫–æ—Ç–æ—Ä—ã–π:
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å localStorage
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import { useState, useEffect } from 'react';

function useLocalStorage(key, defaultValue) {
  const [value, setValue] = useState(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : defaultValue;
    } catch (error) {
      console.error(`–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è localStorage –∫–ª—é—á–∞ "${key}":`, error);
      return defaultValue;
    }
  });

  useEffect(() => {
    try {
      window.localStorage.setItem(key, JSON.stringify(value));
    } catch (error) {
      console.error(`–û—à–∏–±–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ localStorage –∫–ª—é—á–∞ "${key}":`, error);
    }
  }, [key, value]);

  useEffect(() => {
    const handleStorageChange = (e) => {
      if (e.key === key && e.newValue !== null) {
        try {
          setValue(JSON.parse(e.newValue));
        } catch (error) {
          console.error(`–û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ localStorage –∫–ª—é—á–∞ "${key}":`, error);
        }
      }
    };

    window.addEventListener('storage', handleStorageChange);

    return () => {
      window.removeEventListener('storage', handleStorageChange);
    };
  }, [key]);

  return [value, setValue];
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ö—É–∫–∞
function LocalStorageDemo() {
  const [name, setName] = useLocalStorage('userName', '');
  const [theme, setTheme] = useLocalStorage('theme', 'light');
  const [settings, setSettings] = useLocalStorage('userSettings', {
    notifications: true,
    language: 'ru',
    fontSize: 14
  });

  const updateSetting = (key, value) => {
    setSettings(prev => ({
      ...prev,
      [key]: value
    }));
  };

  return (
    <div className="local-storage-demo">
      <h2>–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è useLocalStorage</h2>
      
      <div className="form-section">
        <div className="field">
          <label>
            –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
            <input
              type="text"
              value={name}
              onChange={(e) => setName(e.target.value)}
              placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è"
            />
          </label>
        </div>

        <div className="field">
          <label>
            –¢–µ–º–∞:
            <select value={theme} onChange={(e) => setTheme(e.target.value)}>
              <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
              <option value="dark">–¢–µ–º–Ω–∞—è</option>
              <option value="auto">–ê–≤—Ç–æ</option>
            </select>
          </label>
        </div>

        <div className="field">
          <label>
            –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
            <input
              type="checkbox"
              checked={settings.notifications}
              onChange={(e) => updateSetting('notifications', e.target.checked)}
            />
          </label>
        </div>

        <div className="field">
          <label>
            –Ø–∑—ã–∫:
            <select 
              value={settings.language} 
              onChange={(e) => updateSetting('language', e.target.value)}
            >
              <option value="ru">–†—É—Å—Å–∫–∏–π</option>
              <option value="en">English</option>
              <option value="es">Espa√±ol</option>
            </select>
          </label>
        </div>

        <div className="field">
          <label>
            –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞: {settings.fontSize}px
            <input
              type="range"
              min="12"
              max="24"
              value={settings.fontSize}
              onChange={(e) => updateSetting('fontSize', parseInt(e.target.value))}
            />
          </label>
        </div>
      </div>

      <div className="current-values">
        <h3>–¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:</h3>
        <pre>{JSON.stringify({ name, theme, settings }, null, 2)}</pre>
      </div>

      <div className="instructions">
        <h3>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:</h3>
        <ul>
          <li>–ò–∑–º–µ–Ω–∏—Ç–µ –ª—é–±—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã—à–µ</li>
          <li>–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É - –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è</li>
          <li>–û—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–≤—É—é –≤–∫–ª–∞–¥–∫—É - –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è</li>
          <li>–ò–∑–º–µ–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ –¥—Ä—É–≥–æ–π –≤–∫–ª–∞–¥–∫–µ - –æ–Ω–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è –∑–¥–µ—Å—å</li>
        </ul>
      </div>
    </div>
  );
}

export default LocalStorageDemo;
```

</details>

---

üéâ –≠—Ç–∏ –∑–∞–¥–∞—á–∏ –ø–æ–º–æ–≥—É—Ç –æ—Å–≤–æ–∏—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useEffect –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–±–æ—á–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –≤ React!

---
