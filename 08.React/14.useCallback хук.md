# üìå useCallback —Ö—É–∫

**useCallback** ‚Äî —Ö—É–∫ –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—É –∂–µ —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ—É–Ω–∫—Ü–∏—é –º–µ–∂–¥—É —Ä–µ–Ω–¥–µ—Ä–∞–º–∏, –ø–æ–∫–∞ –Ω–µ –∏–∑–º–µ–Ω—è—Ç—Å—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç:
- –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—Ç—å –ª–∏—à–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä—ã –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤;
- —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ –¥—Ä—É–≥–∏—Ö —Ö—É–∫–∞—Ö (`useEffect`, `useMemo`);
- —É–º–µ–Ω—å—à–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≤ —Å–ø–∏—Å–∫–∞—Ö.

---

## üîπ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useCallback?

- –ü–µ—Ä–µ–¥–∞—ë—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –≤ –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å `React.memo`.
- –§—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö `useEffect`/`useMemo`.
- –ú–∞—Å—Å–æ–≤–æ —Å–æ–∑–¥–∞—ë—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ (—Å–ø–∏—Å–∫–∏, —Ç–∞–±–ª–∏—Ü—ã) –∏ —Ö–æ—Ç–∏—Ç–µ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π.

–ö–æ–≥–¥–∞ –Ω–µ –Ω—É–∂–Ω–æ: —Ñ—É–Ω–∫—Ü–∏—è –¥–µ—à–µ–≤–∞—è –∏ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã ‚Äî –∏–∑–ª–∏—à–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –±–µ–∑ –ø—Ä–æ—Ñ–∏—Ç–∞.

---

## üîπ –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```jsx
const memoizedHandler = useCallback(() => {
  // –ª–æ–≥–∏–∫–∞
}, [deps]);
```

- –ü–µ—Ä–≤—ã–π –∞—Ä–≥—É–º–µ–Ω—Ç ‚Äî —Ñ—É–Ω–∫—Ü–∏—è-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫.
- –í—Ç–æ—Ä–æ–π ‚Äî –º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π; –ø—Ä–∏ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤–µ—Ä–Ω—ë—Ç—Å—è –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è.

---

## üîπ –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏

- –£–∫–∞–∑—ã–≤–∞–π—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–Ω—É—Ç—Ä–∏ –∫–æ–ª–±—ç–∫–∞.
- –î–ª—è —Å–µ—Ç—Ç–µ—Ä–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç: `setCount(prev => prev + 1)` ‚Äî —ç—Ç–æ —É–º–µ–Ω—å—à–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –ù–µ –∑–∞–º–µ–Ω—è–µ—Ç `useMemo` –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π: `useCallback` ‚Äî –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π, `useMemo` ‚Äî –¥–ª—è –∑–Ω–∞—á–µ–Ω–∏–π.

## üèÜ –ó–ê–î–ê–ß–ò

–ó–∞–¥–∞—á–∏ –¥–ª—è –ø—Ä–∞–∫—Ç–∏–∫–∏: `useCallback`

---

### üìå –ó–∞–¥–∞—á–∞ 1: –°—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞
–°—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç–µ –ª–∏—à–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä —Ä–µ–±—ë–Ω–∫–∞.

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import React, { useState, useCallback } from 'react';

const Child = React.memo(({ onClick }) => {
  console.log('Child render');
  return <button onClick={onClick}>–ù–∞–∂–º–∏</button>;
});

function App() {
  const [count, setCount] = useState(0);

  const handleClick = useCallback(() => {
    console.log('clicked');
  }, []);

  return (
    <div>
      <p>Count: {count}</p>
      <button onClick={() => setCount(c => c + 1)}>+1</button>
      <Child onClick={handleClick} />
    </div>
  );
}
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 2: –ö–æ–ª–±—ç–∫ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö —ç—Ñ—Ñ–µ–∫—Ç–∞
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `useCallback`, —á—Ç–æ–±—ã —ç—Ñ—Ñ–µ–∫—Ç –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–ª—Å—è –∏–∑-–∑–∞ –Ω–æ–≤–æ–π —Å—Å—ã–ª–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏.

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import React, { useState, useEffect, useCallback } from 'react';

function Timer() {
  const [count, setCount] = useState(0);

  const tick = useCallback(() => {
    setCount(c => c + 1);
  }, []);

  useEffect(() => {
    const id = setInterval(tick, 1000);
    return () => clearInterval(id);
  }, [tick]);

  return <p>Seconds: {count}</p>;
}
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 3: –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ —Å–ø–∏—Å–∫–µ
–°—Ç–∞–±–∏–ª–∏–∑–∏—Ä—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –ø–æ —ç–ª–µ–º–µ–Ω—Ç—É —Å–ø–∏—Å–∫–∞.

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import React, { useCallback } from 'react';

function List({ items, onItemClick }) {
  return (
    <ul>
      {items.map(item => (
        <li key={item.id}>
          <button onClick={() => onItemClick(item.id)}>{item.name}</button>
        </li>
      ))}
    </ul>
  );
}

export default function App() {
  const items = [
    { id: 1, name: 'A' },
    { id: 2, name: 'B' },
  ];

  const handleItemClick = useCallback((id) => {
    console.log('clicked id:', id);
  }, []);

  return <List items={items} onItemClick={handleItemClick} />;
}
```

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 4: –ü–µ—Ä–µ–¥–∞—á–∞ –∫–æ–ª–±—ç–∫–∞ –≤ –º–µ–º–æ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç
–°–æ–≤–º–µ—Å—Ç–∏—Ç–µ `React.memo` –∏ `useCallback`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤.

<details>
<summary>‚úç –†–µ—à–µ–Ω–∏–µ</summary>

```jsx
import React, { useState, useCallback } from 'react';

const Row = React.memo(({ item, onSelect }) => {
  console.log('Row render:', item.id);
  return (
    <div>
      {item.name} <button onClick={() => onSelect(item.id)}>–í—ã–±—Ä–∞—Ç—å</button>
    </div>
  );
});

export default function Table() {
  const [selected, setSelected] = useState(null);
  const data = [
    { id: 1, name: 'Alice' },
    { id: 2, name: 'Bob' },
  ];

  const handleSelect = useCallback((id) => {
    setSelected(id);
  }, []);

  return (
    <div>
      <p>–í—ã–±—Ä–∞–Ω–æ: {selected ?? '–Ω–∏—á–µ–≥–æ'}</p>
      {data.map(item => (
        <Row key={item.id} item={item} onSelect={handleSelect} />)
      )}
    </div>
  );
}
```

</details>

---

üéâ –≠—Ç–∏ –º–∏–Ω–∏-–∑–∞–¥–∞—á–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ç–∏–ø–∏—á–Ω—ã–µ –∫–µ–π—Å—ã `useCallback` –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ –∫–æ–¥–∞ ‚Äî —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∏ —Ä–∞–±–æ—Ç–∞ —Å–æ —Å–ø–∏—Å–∫–∞–º–∏.
