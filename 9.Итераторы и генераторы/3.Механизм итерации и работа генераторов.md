# üìå –ú–µ—Ö–∞–Ω–∏–∑–º –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–∞–±–æ—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤

–ò—Ç–µ—Ä–∞—Ü–∏—è ‚Äî —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –Ω–∞–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö. –í JavaScript –∑–∞ —ç—Ç–∏–º —Å—Ç–æ–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª, —Å–æ—Å—Ç–æ—è—â–∏–π –∏–∑ **–∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤** –∏ **–∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤**. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ —É–¥–æ–±–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–∫–∏—Ö –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ—Ö–∞–Ω–∏–∑–º –∏—Ç–µ—Ä–∞—Ü–∏–∏?

–ò—Ç–µ—Ä–∞—Ü–∏—è –≤ JS –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –¥–≤—É—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–æ–≥–ª–∞—à–µ–Ω–∏—è—Ö:

### üîπ 1. **–ò—Ç–µ—Ä–∏—Ä—É–µ–º—ã–µ –æ–±—ä–µ–∫—Ç—ã**
–õ—é–±–æ–π –æ–±—ä–µ–∫—Ç, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å –º–µ—Ç–æ–¥ `Symbol.iterator`, —Å—á–∏—Ç–∞–µ—Ç—Å—è –∏—Ç–µ—Ä–∏—Ä—É–µ–º—ã–º. –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å **–∏—Ç–µ—Ä–∞—Ç–æ—Ä**.

```javascript
const iterable = {
  [Symbol.iterator]() {
    return {
      next() {
        return { value: 1, done: true };
      }
    };
  }
};
````

### üîπ 2. **–ò—Ç–µ—Ä–∞—Ç–æ—Ä**

–≠—Ç–æ –æ–±—ä–µ–∫—Ç —Å –º–µ—Ç–æ–¥–æ–º `next()`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞ –∏—Ç–µ—Ä–∞—Ü–∏–∏:

```
{ value: ..., done: ... }
```

* `value` ‚Äî —Å–ª–µ–¥—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ.
* `done` ‚Äî –±—É–ª–µ–≤—ã–π —Ñ–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ –∏—Ç–µ—Ä–∞—Ü–∏—è.

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `for...of`

–ö–æ–≥–¥–∞ `for...of` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:

1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ `Symbol.iterator`.
2. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –º–µ—Ç–æ–¥ `next()`, –ø–æ–∫–∞ `done !== true`.
3. `value` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ —Ç–µ–ª–µ —Ü–∏–∫–ª–∞.

#### –ü—Ä–∏–º–µ—Ä:

```javascript
const arr = [10, 20, 30];

for (let val of arr) {
  console.log(val); // 10, 20, 30
}
```

---

## –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –∫–∞–∫ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã

**–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä** ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä. –û–Ω–∞ –ø–∏—à–µ—Ç—Å—è –∫–∞–∫ `function*` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `yield`:

```javascript
function* generateNumbers() {
  yield 1;
  yield 2;
  yield 3;
}
```

–¢–∞–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞—ë—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Å–≤–æ—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏ `next()`:

```javascript
const gen = generateNumbers();

console.log(gen.next()); // { value: 1, done: false }
console.log(gen.next()); // { value: 2, done: false }
```

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤

* **–£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤** ‚Äî –≤—Å—è –ª–æ–≥–∏–∫–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
* **–ü–∞—É–∑–∞ –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** ‚Äî —á–µ—Ä–µ–∑ `yield`.
* **–õ–µ–Ω–∏–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** ‚Äî —ç–∫–æ–Ω–æ–º–∏—è –ø–∞–º—è—Ç–∏.
* **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã** (`async function*`) ‚Äî —É–¥–æ–±–Ω–æ –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö.

---

## –í–∏–∑—É–∞–ª—å–Ω–æ: –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏—Ç–µ—Ä–∞—Ü–∏—è

```text
[Symbol.iterator] ‚Üí –∏—Ç–µ—Ä–∞—Ç–æ—Ä ‚Üí .next() ‚Üí { value, done }
                                  ‚Üì
                            —Ü–∏–∫–ª for...of
```

---

## üéØ –ò—Ç–æ–≥

–ú–µ—Ö–∞–Ω–∏–∑–º –∏—Ç–µ—Ä–∞—Ü–∏–∏ –¥–µ–ª–∞–µ—Ç JavaScript –≥–∏–±–∫–∏–º –∏ –º–æ—â–Ω—ã–º. –û–Ω –ª–µ–∂–∏—Ç –≤ –æ—Å–Ω–æ–≤–µ `for...of`, `spread`, `Array.from`, –∏ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π. –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã ‚Äî —ç—Ç–æ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –∫–æ–¥–æ–º –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç—å—é.

---

## üèÜ –ó–ê–î–ê–ß–ò

–í–æ—Ç –∑–∞–¥–∞—á–∏ –ø–æ **–º–µ—Ö–∞–Ω–∏–∑–º—É –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º**, –Ω–µ –ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–µ—Å—è —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏. –ö–∞–∂–¥–∞—è —Å–Ω–∞–±–∂–µ–Ω–∞ –∫–æ–¥–æ–º, —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ–º –≤—ã–≤–æ–¥–∞ –∏ –ø–æ—è—Å–Ω–µ–Ω–∏–µ–º —Ä–µ—à–µ–Ω–∏—è:

---

### üìå –ó–∞–¥–∞—á–∞ 1: –ü–µ—Ä–µ–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞

‚ùì –ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥?

```javascript
const user = {
  name: "Alex",
  age: 30,
  [Symbol.iterator]() {
    let keys = Object.keys(this);
    let index = 0;
    return {
      next: () => {
        if (index < keys.length) {
          return { value: this[keys[index++]], done: false };
        } else {
          return { done: true };
        }
      }
    };
  }
};

for (let val of user) {
  console.log(val);
}
```

<details>
<summary>‚úÖ –í—ã–≤–æ–¥</summary>

```
Alex
30
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**: `Symbol.iterator` —Å–æ–∑–¥–∞—ë—Ç –∏—Ç–µ—Ä–∞—Ç–æ—Ä –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º —Å–≤–æ–π—Å—Ç–≤. –û–Ω –Ω–µ –æ–±—Ö–æ–¥–∏—Ç `Symbol.iterator` –∫–∞–∫ –∫–ª—é—á, —Ç–∞–∫ –∫–∞–∫ `Object.keys()` –µ–≥–æ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç.

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 2: –í–ª–æ–∂–µ–Ω–Ω—ã–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã

‚ùì –ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç —ç—Ç–æ—Ç –∫–æ–¥?

```javascript
function* inner() {
  yield 'a';
  yield 'b';
}

function* outer() {
  yield 'start';
  yield* inner();
  yield 'end';
}

for (let val of outer()) {
  console.log(val);
}
```

<details>
<summary>‚úÖ –í—ã–≤–æ–¥</summary>

```
start
a
b
end
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**: `yield* inner()` –≤—Å—Ç–∞–≤–ª—è–µ—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ `inner()` –≤–Ω—É—Ç—Ä—å `outer()`. –≠—Ç–æ —É–¥–æ–±–Ω–æ –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∏—Ç–µ—Ä–∞—Ü–∏–π.

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 3: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å –ª–æ–≥–∏–∫–æ–π

‚ùì –ß—Ç–æ –≤—ã–≤–µ–¥–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä?

```javascript
function* countdown(from) {
  while (from > 0) {
    yield from--;
  }
}

for (let n of countdown(3)) {
  console.log(n);
}
```

<details>
<summary>‚úÖ –í—ã–≤–æ–¥</summary>

```
3
2
1
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `while` –∏ `yield` –¥–ª—è –ø–æ—ç—Ç–∞–ø–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–∏—Å–µ–ª –æ—Ç `from` –¥–æ `1`. –ü–æ—Å–∫–æ–ª—å–∫—É `from--` –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω—ã–π, —Å–ø–µ—Ä–≤–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ—Ç–æ–º —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è.

</details>

---

### üìå –ó–∞–¥–∞—á–∞ 4: –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä + return

‚ùì –ß—Ç–æ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ?

```javascript
function* gen() {
  yield 1;
  return 2;
  yield 3;
}

const g = gen();

console.log(g.next());
console.log(g.next());
console.log(g.next());
```

<details>
<summary>‚úÖ –í—ã–≤–æ–¥</summary>

```
{ value: 1, done: false }
{ value: 2, done: true }
{ value: undefined, done: true }
```

**–û–±—ä—è—Å–Ω–µ–Ω–∏–µ**: `return` –∑–∞–≤–µ—Ä—à–∞–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫ `value`, –ø—Ä–∏ —ç—Ç–æ–º `done` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è `true`. –í—Å–µ `yield` –ø–æ—Å–ª–µ `return` –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è.

</details>

---

üéâ –í –¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã —Ä–∞–±–æ—Ç—ã —Å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º–∏.
–≠—Ç–∏ —Ç–µ—Ö–Ω–∏–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö.

---
